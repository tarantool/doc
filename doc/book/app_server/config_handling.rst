.. _config-handling:

================================================================================
Работа с конфигурацией
================================================================================

Иногда нужно запускать приложение с определенной конфигурацией и менять ее во время работы.
Конфигурация может передаваться в приложение разными способами:

- через переменные окружения
- приложение может читать конфигурационный файл
- приложение может обращаться во внешнее хранилище, например etcd

---------------------------------------
Чтение параметров из внешнего хранилища
---------------------------------------

Для этих целей подходит модуль `tarantool/conf <https://github.com/tarantool/conf>`_.
Он позволяет читать/записывать/удалять ключи из etcd v2 и v3.

Пример использования:

.. code:: lua

	local conf = require("conf").new{ driver = 'etcd', endpoints = { 'http://localhost:2379' } }

	local currency_broker = conf:get('app.currency-broker.url')
	local http = require('http.client')

	local data = http.get(currency_broker.data)

В текущей функциональности `tarantool/conf` отсутсвует поддержка подписки на изменения ключа.
Если вы хотели бы видеть эту возможность в новой версии, то `оставляйте свой комментарий или лайк в
тикете на Github <https://github.com/tarantool/conf/issues/5>`_.