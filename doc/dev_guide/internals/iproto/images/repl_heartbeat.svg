<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="135px" preserveAspectRatio="none" style="width:779px;height:135px;background:#FFFFFF;" version="1.1" viewBox="0 0 779 135" width="779px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="101.4844" style="stroke:#313131;stroke-width:0.5;" width="336" x="7" y="17"/><text fill="#313131" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="256" x="47" y="31.9951">Heartbeat message from master</text><line style="stroke:#313131;stroke-width:1.0;" x1="67" x2="67" y1="37.2969" y2="118.4844"/><line style="stroke:#313131;stroke-width:1.0;" x1="7" x2="343" y1="37.2969" y2="37.2969"/><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="52.292">Size</text><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="72" y="52.292">MP_UINT</text><line style="stroke:#313131;stroke-width:1.0;" x1="7" x2="343" y1="57.5938" y2="57.5938"/><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="12" y="72.5889">Header</text><line style="stroke:#313131;stroke-width:1.0;" x1="247" x2="247" y1="57.5938" y2="118.4844"/><line style="stroke:#313131;stroke-width:1.0;" x1="67" x2="343" y1="57.5938" y2="57.5938"/><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="170" x="72" y="72.5889">IPROTO_REQUEST_TYPE</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="252" y="72.5889">IPROTO_OK</text><line style="stroke:#313131;stroke-width:1.0;" x1="67" x2="343" y1="77.8906" y2="77.8906"/><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="138" x="72" y="92.8857">IPROTO_REPLICA_ID</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="252" y="92.8857">MP_UINT</text><line style="stroke:#313131;stroke-width:1.0;" x1="67" x2="343" y1="98.1875" y2="98.1875"/><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="141" x="72" y="113.1826">IPROTO_TIMESTAMP</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="252" y="113.1826">MP_DOUBLE</text><rect fill="none" height="121.7813" style="stroke:#313131;stroke-width:0.5;" width="378" x="394" y="7"/><text fill="#313131" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178" x="494" y="21.9951">Response from replica</text><line style="stroke:#313131;stroke-width:1.0;" x1="454" x2="454" y1="27.2969" y2="128.7813"/><line style="stroke:#313131;stroke-width:1.0;" x1="394" x2="772" y1="27.2969" y2="27.2969"/><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="399" y="42.292">Size</text><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="459" y="42.292">MP_UINT</text><line style="stroke:#313131;stroke-width:1.0;" x1="394" x2="772" y1="47.5938" y2="47.5938"/><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="399" y="62.5889">Header</text><line style="stroke:#313131;stroke-width:1.0;" x1="676" x2="676" y1="47.5938" y2="108.4844"/><line style="stroke:#313131;stroke-width:1.0;" x1="454" x2="772" y1="47.5938" y2="47.5938"/><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="170" x="459" y="62.5889">IPROTO_REQUEST_TYPE</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="681" y="62.5889">IPROTO_OK</text><line style="stroke:#313131;stroke-width:1.0;" x1="454" x2="772" y1="67.8906" y2="67.8906"/><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="138" x="459" y="82.8857">IPROTO_REPLICA_ID</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="681" y="82.8857">MP_UINT</text><line style="stroke:#313131;stroke-width:1.0;" x1="454" x2="772" y1="88.1875" y2="88.1875"/><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="459" y="103.1826">(Optional)</text><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="141" x="530" y="103.1826">IPROTO_TIMESTAMP</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="681" y="103.1826">MP_DOUBLE</text><line style="stroke:#313131;stroke-width:1.0;" x1="394" x2="772" y1="108.4844" y2="108.4844"/><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="399" y="123.4795">Body</text><line style="stroke:#313131;stroke-width:1.0;" x1="580" x2="580" y1="108.4844" y2="128.7813"/><line style="stroke:#313131;stroke-width:1.0;" x1="454" x2="772" y1="108.4844" y2="108.4844"/><a href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" target="_top" title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:actuate="onRequest" xlink:href="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:show="new" xlink:title="https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="116" x="459" y="123.4795">IPROTO_VCLOCK</text></a><text fill="#313131" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="585" y="123.4795">MP_MAP</text><!--MD5=[695d8239d19c970309a8e581ed486712]
@startuml

skinparam map {
    HyperlinkColor #0077FF
    FontColor #313131
    BorderColor #313131
    BackgroundColor transparent
}

json "**Heartbeat message from master**" as heartbeat_request {
    "Size": "MP_UINT",
    "Header": {
      "[[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_REQUEST_TYPE]]": "IPROTO_OK",
      "[[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_REPLICA_ID]]": "MP_UINT",
      "[[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_TIMESTAMP]]": "MP_DOUBLE"
    }
}

json "**Response from replica**" as heartbeat_response {
    "Size": "MP_UINT",
    "Header": {
      "[[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_REQUEST_TYPE]]": "IPROTO_OK",
      "[[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_REPLICA_ID]]": "MP_UINT",
      "(Optional) [[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_TIMESTAMP]]": "MP_DOUBLE"
    },
    "Body": {
      "[[https://tarantool.io/en/doc/latest/dev_guide/internals/iproto/keys IPROTO_VCLOCK]]": "MP_MAP"      
    }
}

@enduml

PlantUML version 1.2022.8(Sun Sep 25 12:00:33 IDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>