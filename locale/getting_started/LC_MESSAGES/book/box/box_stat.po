# SOME DESCRIPTIVE TITLE.
# Copyright (C)
# This file is distributed under the same license as the Tarantool package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2020.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Tarantool 1.10\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-02-06 14:05+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.8.0\n"

msgid "Submodule `box.stat`"
msgstr ""

msgid ""
"The ``box.stat`` submodule provides access to request and network "
"statistics."
msgstr ""

msgid ""
"Use ``box.stat()`` to show the average number of requests per second, and"
" the total number of requests since startup, broken down by request type."
msgstr ""

msgid ""
"Use ``box.stat.net()`` to see network activity: the number of bytes sent "
"and received, the number of connections, and the number of requests "
"(current, average, and total)."
msgstr ""

msgid ""
"Use ``box.stat.vinyl()`` to see vinyl-storage-engine activity, for "
"example ``box.stat.vinyl().tx`` has the number of commits and rollbacks. "
"See details at :ref:`the end of this section <box_introspection-"
"box_stat_vinyl_details>`."
msgstr ""

msgid ""
"Use ``box.stat.reset()`` to reset the statistics of ``box.stat()``, "
"``box.stat.net()``, ``box.stat.vinyl()`` and :ref:`box.space.index "
"<box_space-space_index>`."
msgstr ""

msgid ""
"In the tables that ``box.stat()`` and ``box.stat.net()`` return: ``rps`` "
"stands for \"[average number of] requests per second [in the last 5 "
"seconds]\", ``total`` stands for \"total [number processed since the "
"server began]\", ``current`` stands for \"[number of] current [requests "
"in progress, which can be limited by :ref:`box.cfg.net_msg_max "
"<cfg_networking-net_msg_max>`]\". \"ERROR\" is the count of requests that"
" resulted in an error."
msgstr ""

msgid ""
"tarantool> box.stat() -- return 10 tables\n"
"---\n"
"- DELETE:\n"
"    total: 1873949\n"
"    rps: 123\n"
"  SELECT:\n"
"    total: 1237723\n"
"    rps: 4099\n"
"  INSERT:\n"
"    total: 0\n"
"    rps: 0\n"
"  EVAL:\n"
"    total: 0\n"
"    rps: 0\n"
"  CALL:\n"
"    total: 0\n"
"    rps: 0\n"
"  REPLACE:\n"
"    total: 1239123\n"
"    rps: 7849\n"
"  UPSERT:\n"
"    total: 0\n"
"    rps: 0\n"
"  AUTH:\n"
"    total: 0\n"
"    rps: 0\n"
"  ERROR:\n"
"    total: 0\n"
"    rps: 0\n"
"  UPDATE:\n"
"    total: 0\n"
"    rps: 0\n"
"...\n"
"tarantool> box.stat().DELETE -- total + requests per second from one "
"table\n"
"---\n"
"- total: 0\n"
"  rps: 0\n"
"...\n"
"tarantool> box.stat.net() -- 4 tables\n"
"---\n"
"- SENT:\n"
"    total: 0\n"
"    rps: 0\n"
"  CONNECTIONS:\n"
"    current: 0\n"
"    rps: 0\n"
"    total: 0\n"
"  REQUESTS:\n"
"    current: 0\n"
"    rps: 0\n"
"    total: 0\n"
"  RECEIVED:\n"
"    total: 0\n"
"    rps: 0\n"
"...\n"
"tarantool> box.stat.vinyl().tx.commit -- one item of the vinyl table\n"
"---\n"
"- 1047632\n"
"..."
msgstr ""

msgid "Here are details about the ``box.stat.vinyl()`` items."
msgstr ""

msgid ""
"**Details about box.stat.vinyl().regulator:** The vinyl regulator decides"
" when to take or delay actions for disk IO, grouping activity in batches "
"so that it is consistent and efficient. The regulator is invoked by the "
"vinyl scheduler, once per second, and updates related variables whenever "
"it is invoked."
msgstr ""

msgid ""
"``box.stat.vinyl().regulator.dump_bandwidth`` is the estimated average "
"rate at which dumps are done. Initially this will appear as 10485760 (10 "
"megabytes per second). Only significant dumps (larger than one megabyte) "
"are used for estimating."
msgstr ""

msgid ""
"``box.stat.vinyl().regulator.dump_watermark`` is the point when dumping "
"must occur. The value is slightly smaller than the amount of memory that "
"is allocated for vinyl trees, which is the :ref:`vinyl_memory "
"<cfg_storage-vinyl_memory>` parameter."
msgstr ""

msgid ""
"``box.stat.vinyl().regulator.write_rate`` is the actual average rate at "
"which recent writes to disk are done. Averaging is done over a 5-second "
"time window, so if there has been no activity for 5 seconds then "
"``regulator.write_rate = 0``. The ``write_rate`` may be slowed when a "
"dump is in progress or when the user has set :ref:`snap_io_rate_limit "
"<cfg_binary_logging_snapshots-snap_io_rate_limit>`."
msgstr ""

msgid ""
"``box.stat.vinyl().regulator.rate_limit`` is the write rate limit, in "
"bytes per second, imposed on transactions by the regulator based on the "
"observed dump/compaction performance."
msgstr ""

msgid ""
"**Details about box.stat.vinyl().disk:** Since vinyl is an on-disk "
"storage engine (unlike memtx which is an in-memory storage engine), it "
"can handle large databases -- but if a database is larger than the amount"
" of memory that is allocated for vinyl, then there will be more disk "
"activity."
msgstr ""

msgid ""
"``box.stat.vinyl().disk.data`` and ``box.stat.vinyl().disk.index`` are "
"the amount of data that has gone into files in a subdirectory of "
":ref:`vinyl_dir <cfg_basic-vinyl_dir>`, with names like ``{lsn}.run`` and"
" ``{lsn}.index``. The size of the run will be related to the output of "
"``scheduler.dump_*``."
msgstr ""

msgid ""
"``box.stat.vinyl().disk.data_compacted`` Sum size of data stored at the "
"last LSM tree level, in bytes, without taking disk compression into "
"account. It can be thought of as the size of disk space that the user "
"data would occupy if there were no compression, indexing, or space "
"increase caused by the LSM tree design."
msgstr ""

msgid ""
"**Details about box.stat.vinyl().memory:** Although the vinyl storage "
"engine is not \"in-memory\", Tarantool does need to have memory for write"
" buffers and for caches:"
msgstr ""

msgid ""
"``box.stat.vinyl().memory.tuple_cache`` is the number of bytes that are "
"being used for tuples (data)."
msgstr ""

msgid ""
"``box.stat.vinyl().memory.tx`` is transactional memory. This will usually"
" be 0."
msgstr ""

msgid ""
"``box.stat.vinyl().memory.level0`` is the \"level0\" memory area, "
"sometimes abbreviated \"L0\", which is the area that vinyl can use for "
"in-memory storage of an LSM tree."
msgstr ""

msgid ""
"Therefore we can say that \"L0 is becoming full\" when the amount in "
"``memory.level0`` is close to the maximum, which is "
":ref:`regulator.dump_watermark <box_introspection-"
"box_stat_vinyl_regulator>`. We can expect that \"L0 = 0\" immediately "
"after a dump. ``box.stat.vinyl().memory.page_index`` and  "
"``box.stat.vinyl().memory.bloom_filter`` have the current amount being "
"used for index-related structures. The size is a function of the number "
"and size of keys, plus :ref:`page_size <cfg_storage-vinyl_page_size>`, "
"plus :ref:`bloom_fpr <cfg_storage-vinyl_bloom_fpr>`. This is not a count "
"of bloom filter \"hits\" (the number of reads that could be avoided "
"because the bloom filter predicts their presence in a run file) -- that "
"statistic can be found with :ref:`index_object:stat() <box_index-stat>`."
msgstr ""

msgid ""
"**Details about box.stat.vinyl().tx:** This is about requests that affect"
" transactional activity (\"tx\" is used here as an abbreviation for "
"\"transaction\"):"
msgstr ""

msgid ""
"``box.stat.vinyl().tx.conflict`` counts conflicts that caused a "
"transaction to roll back."
msgstr ""

msgid ""
"``box.stat.vinyl().tx.commit`` is the count of commits (successful "
"transaction ends). It includes implicit commits, for example any insert "
"causes a commit unless it is within a begin-end block."
msgstr ""

msgid ""
"``box.stat.vinyl().tx.rollback`` is the count of rollbacks (unsuccessful "
"transaction ends). This is not merely a count of explicit "
":ref:`box.rollback <box-rollback>` requests -- it includes requests that "
"ended in errors. For example, after an attempted insert request that "
"causes a \"Duplicate key exists in unique index\" error, ``tx.rollback`` "
"is incremented."
msgstr ""

msgid "``box.stat.vinyl().tx.statements`` will usually be 0."
msgstr ""

msgid ""
"``box.stat.vinyl().tx.transactions`` is the number of transactions that "
"are currently running."
msgstr ""

msgid ""
"``box.stat.vinyl().tx.gap_locks`` is the number of gap locks that are "
"outstanding during execution of a request. For a low-level description of"
" Tarantool's implementation of gap locking, see `Gap locks in Vinyl "
"transaction manager "
"<https://github.com/tarantool/tarantool/issues/2671>`_."
msgstr ""

msgid ""
"``box.stat.vinyl().tx.read_views`` shows whether a transaction has "
"entered a read-only state to avoid conflict temporarily. This will "
"usually be 0."
msgstr ""

msgid ""
"**Details about box.stat.vinyl().scheduler:** This primarily has counters"
" related to tasks that the scheduler has arranged for dumping or "
"compaction: (most of these items are reset to 0 when the server restarts "
"or when :ref:`box.stat.reset() <box_introspection-box_stat_reset>` "
"occurs):"
msgstr ""

msgid ""
"``box.stat.vinyl().scheduler.compaction_*`` is the amount of data from "
"recent changes that has been :ref:`compacted <box_index-compact>`. This "
"is divided into ``scheduler.compaction_input`` (the amount that is being "
"compacted), ``scheduler.compaction_queue`` (the amount that is waiting to"
" be compacted), ``scheduler.compaction_time`` (total time spent by all "
"worker threads performing compaction, in seconds), and "
"``scheduler.compaction_output`` (the amount that has been compacted, "
"which is presumably smaller than ``scheduler.compaction_input``)."
msgstr ""

msgid ""
"``box.stat.vinyl().scheduler.tasks_*`` is about dump/compaction tasks, in"
" three categories, ``scheduler.tasks_inprogress`` (currently running), "
"``scheduler.tasks_completed`` (successfully completed) "
"``scheduler.tasks_failed`` (aborted due to errors)."
msgstr ""

msgid ""
"``box.stat.vinyl().scheduler_dump_*`` has the amount of data from recent "
"changes that has been dumped, including ``dump_time`` (total time spent "
"by all worker threads performing dumps, in seconds), and ``dump_count`` "
"(the count of completed dumps), ``dump_input`` and ``dump_output``."
msgstr ""

msgid ""
"A \"dump\" is explained in section :ref:`Storing data with vinyl "
"<engines-algorithm_filling_lsm>`:"
msgstr ""

msgid ""
"Sooner or later the number of elements in an LSM tree exceeds the L0 size"
" and that is when L0 gets written to a file on disk (called a 'run') and "
"then cleared for storing new elements. This operation is called a 'dump'."
msgstr ""

msgid ""
"Thus it can be predicted that a dump will occur if the size of L0 (which "
"is :ref:`memory.level0 <box_introspection-box_stat_vinyl_memory>`) is "
"approaching the maximum (which is :ref:`regulator.dump_watermark "
"<box_introspection-box_stat_vinyl_regulator>`) and a dump is not already "
"in progress. In fact Tarantool will try to arrange a dump before this "
"hard limit is reached."
msgstr ""

msgid "A dump will also occur during a  :ref:`snapshot <box-snapshot>` operation."
msgstr ""

