
msgid "Data model"
msgstr "Модель данных"

msgid ""
"This section describes how Tarantool stores values and what operations with "
"data it supports."
msgstr ""
"В этом разделе описывается то, как в Tarantool организовано хранение данных "
"и какие операции с данными он поддерживает."

msgid ""
"If you tried to create a database as suggested in our :ref:`\"Getting "
"started\" exercises <getting_started_db>`, then your test database now looks"
" like this:"
msgstr ""
"Если вы пробовали создать базу данных, как предлагается в упражнениях в "
":ref:`\"Руководстве для начинающих\" <getting_started_db>`, то ваша тестовая"
" база данных выглядит следующим образом:"

msgid "Tuples"
msgstr "Кортежи"

msgid "Tarantool operates data in the form of tuples."
msgstr "Tarantool обрабатывает данные в виде кортежей."

msgid "tuple"
msgstr "кортеж"

msgid ""
"A tuple is a group of data values in Tarantool's memory. Think of it as a "
"\"database record\" or a \"row\". The data values in the tuple are called "
":term:`fields <field>`."
msgstr ""
"Кортеж — это группа значений данных в памяти Tarantool. По сути, это "
"\"запись в базе данных\" или \"строка\". Значения данных в кортеже "
"называются :term:`полями <field>`."

msgid ""
"When Tarantool returns a tuple value in the console, by default, it uses "
":ref:`YAML <interactive_console>` format, for example: ``[3, 'Ace of Base', "
"1993]``."
msgstr ""
"Когда Tarantool выводит значение кортежа в консоль, по умолчанию "
"используется формат :ref:`YAML <interactive_console>`, например: ``[3, 'Ace "
"of Base', 1993]``."

msgid ""
"Internally, Tarantool stores tuples as `MsgPack "
"<https://en.wikipedia.org/wiki/MessagePack>`_ arrays."
msgstr ""
"В Tarantool кортежи хранятся в виде массивов в формате `MsgPack "
"<https://en.wikipedia.org/wiki/MessagePack>`_."

msgid "field"
msgstr "поле"

msgid ""
"Fields are distinct data values, contained in a tuple. They play the same "
"role as \"row columns\" or \"record fields\" in relational databases, with a"
" few improvements:"
msgstr ""
"Поля — это отдельные значения данных, которые содержатся в кортеже. Они "
"играют ту же роль, что и \"столбцы\" или \"поля записи\" в реляционных базах"
" данных, но несколько усовершенствованы:"

msgid "fields can be composite structures, such as arrays or maps,"
msgstr ""
"поля могут представлять собой композитные структуры, такие как таблицы типа "
"массива или ассоциативного массива,"

msgid "fields don't need to have names."
msgstr "полям не нужны имена."

msgid ""
"A given tuple may have any number of fields, and the fields may be of "
"different :ref:`types <index-box_data-types>`."
msgstr ""
"В кортеже может быть любое количество полей, и это могут быть поля разных "
":ref:`типов <index-box_data-types>`."

msgid ""
"The field's number is the identifier of the field. Numbers are counted from "
"base 1 in Lua and other 1-based languages, or from base 0 in languages like "
"PHP or C/C++. So, ``1`` or ``0`` can be used in some contexts to refer to "
"the first field of a tuple."
msgstr ""
"Номер поля служит его идентификатором. В Lua и некоторых других языках "
"нумерация начинается с 1, в других — с 0 (например, в PHP или C/C++). Таким "
"образом, в некоторых контекстах у первого поля кортежа будет индекс ``1`` "
"или ``0``."

msgid "Spaces"
msgstr "Спейсы"

msgid ""
"Tarantool stores tuples in containers called spaces. In the example above, "
"there's a space called ``tester``."
msgstr ""
"Tarantool хранит кортежи в контейнерах, называемых спейсами (space). Спейс в"
" примере выше называется ``tester``."

msgid "space"
msgstr "спейс"

msgid ""
"In Tarantool, a space is a primary container that stores data. It is "
"analogous to tables in relational databases. Spaces contain :term:`tuples "
"<tuple>` -- the Tarantool name for database records. The number of tuples "
"in a space is unlimited."
msgstr ""
"В Tarantool спейс — это первичный контейнер, хранящий данные. Он похож на "
"таблицы в реляционных базах данных. Спейсы содержат :term:`кортежи <tuple>` "
"— так в Tarantool называются записи в базе данных. Количество кортежей в "
"спейсе не ограничено."

msgid ""
"At least one space is required to store data with Tarantool. Each space has "
"the following attributes:"
msgstr ""
"Для хранения данных с помощью Tarantool требуется хотя бы один спейс. У "
"каждого спейса есть следующие атрибуты:"

msgid "a unique **name** specified by the user,"
msgstr "уникальное **имя**, указанное пользователем;"

msgid ""
"a unique **numeric identifier** which can be specified by the user, but "
"usually is assigned automatically by Tarantool,"
msgstr ""
"уникальный **числовой идентификатор**, обычно Tarantool назначает его "
"автоматически, но пользователь может его указать сам, если посчитает нужным;"

msgid ""
"an **engine**: *memtx* (default) --- in-memory engine, fast but limited in "
"size, or *vinyl* --- on-disk engine for huge data sets."
msgstr ""
"**движок**: *memtx* (по умолчанию) — движок «in-memory», быстрый, но "
"ограниченный в размере, или *vinyl* — дисковый движок для огромных наборов "
"данных."

msgid ""
"To be functional, a space also needs to have a :ref:`primary index <index-"
"box_index>`. It can also have secondary indexes."
msgstr ""
"Для работы спейсу нужен :ref:`первичный индекс <index-box_index>`. Также он может\n"
"использовать вторичные индексы."

msgid "Indexes"
msgstr "Индексы"

msgid ""
"Read the full information about indexes on page :doc:`Indexes "
"</book/box/indexes>`."
msgstr ""
"Всю информацию про индексы можно найти на странице :doc:`Индексы "
"</book/box/indexes>`."

msgid "An **index** is a group of key values and pointers."
msgstr "**Индекс** — это совокупность значений ключей и указателей."

msgid ""
"As with spaces, you should specify the index **name** and let Tarantool come"
" up with a unique **numeric identifier** (\"index id\")."
msgstr ""
"Как и для спейсов, для индексов следует указать **имена**, а Tarantool "
"определит уникальный **числовой идентификатор** (\"ID индекса\")."

msgid ""
"An index always has a **type**. The default index type is :ref:`TREE "
"<indexes-tree>`. TREE indexes are provided by all Tarantool engines, can "
"index unique and non-unique values, support partial key searches, "
"comparisons, and ordered results. Additionally, the memtx engine supports "
":ref:`HASH <indexes-hash>`, :ref:`RTREE <indexes-rtree>` and :ref:`BITSET "
"<indexes-bitset>` indexes."
msgstr ""
"У индекса всегда есть определенный **тип**. Тип индекса по умолчанию — "
":ref:`TREE <indexes-tree>`. TREE-индексы поддерживаются обоими движками "
"Tarantool, могут индексировать уникальные и неуникальные значения, "
"поддерживают поиск по компонентам ключа, сравнение ключей и упорядочивание "
"результатов. Движок memtx поддерживает и другие типы индексов: :ref:`HASH "
"<indexes-hash>`, :ref:`RTREE <indexes-rtree>` и :ref:`BITSET <indexes-"
"bitset>`."

msgid ""
"An index may be **multi-part**, that is, you can declare that an index key "
"value is composed of two or more fields in the tuple, in any order. For "
"example, for an ordinary TREE index, the maximum number of parts is 255."
msgstr ""
"Индекс может быть **многокомпонентным**, то есть можно объявить, что ключ "
"индекса состоит из двух или более полей в кортеже в любом порядке. Например,"
" для обычного TREE-индекса максимальное количество частей равно 255."

msgid ""
"An index may be **unique**, that is, you can declare that it would be "
"illegal to have the same key value twice."
msgstr ""
"Индекс может быть **уникальным**, то есть можно объявить, что недопустимо "
"дважды задавать одно значение ключа."

msgid ""
"The first index defined on a space is called the **primary key index**, and "
"it must be unique. All other indexes are called **secondary indexes**, and "
"they may be non-unique."
msgstr ""
"Первый индекс, определенный для спейса, называется **первичный индекс**. Он "
"должен быть уникальным. Все остальные индексы называются **вторичными "
"индексами**, они могут строиться по неуникальным значениям."

msgid "Data types"
msgstr "Типы данных"

msgid ""
"Tarantool is both a database manager and an application server. Therefore a "
"developer often deals with two type sets: the types of the programming "
"language (such as Lua) and the types of the Tarantool storage format "
"(MsgPack)."
msgstr ""
"Tarantool представляет собой систему управления базой данных и сервер "
"приложений одновременно. Поэтому разработчику часто приходится работать с "
"двумя системами типов данных: типы языка программирования (например, Lua) и "
"типы формата хранения данных Tarantool (MsgPack)."

msgid "Lua versus MsgPack"
msgstr "Lua в сравнении с MsgPack"

msgid "Scalar / compound"
msgstr "Скалярный / составной"

msgid "MsgPack |nbsp| type"
msgstr "MsgPack-тип |nbsp|"

msgid "Lua type"
msgstr "Lua-тип"

msgid "Example value"
msgstr "Пример значения"

msgid "scalar"
msgstr "скалярный"

msgid "nil"
msgstr "nil"

msgid "\"`nil`_\""
msgstr "\"`nil`_\""

msgid "``nil``"
msgstr "``nil``"

msgid "boolean"
msgstr "boolean"

msgid "\"`boolean`_\""
msgstr "\"`boolean`_\" (логическое значение)"

msgid "``true``"
msgstr "``true``"

msgid "string"
msgstr "string"

msgid "\"`string`_\""
msgstr "\"`string`_\""

msgid "``'A B C'``"
msgstr "``'A B C'``"

msgid "integer"
msgstr "integer"

msgid "\"`number`_\""
msgstr "\"`number`_\""

msgid "``12345``"
msgstr "``12345``"

msgid "float 64 (double)"
msgstr "float 64 (double)"

msgid "``1.2345``"
msgstr "``1.2345``"

msgid "\"`cdata`_\""
msgstr "\"`cdata`_\""

msgid "binary"
msgstr "binary"

msgid "``[!!binary 3t7e]``"
msgstr "``[!!binary 3t7e]``"

msgid "ext (for Tarantool decimal)"
msgstr "ext (для decimal в Tarantool)"

msgid "``1.2``"
msgstr "``1.2``"

msgid "ext (for Tarantool uuid)"
msgstr "ext (для uuid в Tarantool)"

msgid "``12a34b5c-de67-8f90-`` |br| ``123g-h4567ab8901``"
msgstr "``12a34b5c-de67-8f90-`` |br| ``123g-h4567ab8901``"

msgid "compound"
msgstr "составной"

msgid "map"
msgstr "map (ассоциативный массив)"

msgid "\"`table`_\" (with string keys)"
msgstr "\"`table`_\" (таблица со строковыми ключами)"

msgid "``{'a': 5, 'b': 6}``"
msgstr "``{'a': 5, 'b': 6}``"

msgid "array"
msgstr "array (массив)"

msgid "\"`table`_\" (with integer keys)"
msgstr "\"`table`_\" (таблица с целочисленными ключами)"

msgid "``[1, 2, 3, 4, 5]``"
msgstr "``[1, 2, 3, 4, 5]``"

msgid "tuple (\"`cdata`_\")"
msgstr "tuple (\"`cdata`_\") (кортеж)"

msgid "``[12345, 'A B C']``"
msgstr "``[12345, 'A B C']``"

msgid ""
"MsgPack values have variable lengths. So, for example, the smallest number "
"requires only one byte, but the largest number requires nine bytes."
msgstr ""
"Данные в формате MsgPack имеют переменный размер. Так, например, для "
"наименьшего значения number потребуется только один байт, a для наибольшего "
"потребуется девять байтов."

msgid "Field type details"
msgstr "Описание типов полей"

msgid ""
"**nil**. In Lua, the nil type has only one possible value, also called "
"``nil``. Tarantool displays it as ``null`` when using the default :ref:`YAML"
" <interactive_console>` format. Nil may be compared to values of any types "
"with == (is-equal) or ~= (is-not-equal), but other comparison operations "
"will not work. Nil may not be used in Lua tables; the workaround is to use "
":ref:`box.NULL <box-null>` because ``nil == box.NULL`` is true. Example: "
"``nil``."
msgstr ""
"**nil**. В языке Lua у типа nil есть только одно значение, также называемое "
"``nil``. Tarantool отображает его как ``null`` при использовании формата по "
"умолчанию :ref:`YAML <interactive_console>`. Значение nil можно сравнивать "
"со значениями любых типов данных с помощью операторов == (равно) или ~= (не "
"равно), но никакие другие операции сравнения к nil не применимы. Значение "
"nil также нельзя использовать в Lua-таблицах — в качестве обходного пути "
"вместо nil в таком случае можно указать :ref:`box.NULL <box-null>`, "
"поскольку условие ``nil == box.NULL`` является истинным. Пример: ``nil``."

msgid ""
"**boolean**. A boolean is either ``true`` or ``false``. Example: ``true``."
msgstr ""
"**boolean**. Логический тип данных boolean принимает значения ``true`` или "
"``false``. Пример: ``true``."

msgid ""
"**integer**. The Tarantool integer type is for integers between "
"-9223372036854775808 and 18446744073709551615, which is about 18 "
"quintillion. This type corresponds to the number type in Lua and to the "
"integer type in MsgPack. Example: ``-2^63``."
msgstr ""
"**integer**. В Tarantool тип полей integer используется для целых чисел от "
"−9 223 372 036 854 775 808 до 18 446 744 073 709 551 615, то есть до "
"примерно 18 квинтиллионов. Такой тип данных соответствует типам number в Lua"
" и integer в MsgPack. Пример: ``-2^63``."

msgid ""
"**unsigned**. The Tarantool unsigned type is for integers between 0 and "
"18446744073709551615. So it is a subset of integer. Example: ``123456``."
msgstr ""
"**unsigned**. Тип unsigned в Tarantool используется для целых чисел от 0 до "
"18 446 744 073 709 551 615. Он представляет собой подмножество типа integer."
" Пример: ``123456``."

msgid ""
"**double**. The double field type exists mainly to be equivalent to "
"Tarantool/SQL's :ref:`DOUBLE data type <sql_data_type_double>`. In "
"`msgpuck.h <https://github.com/rtsisyk/msgpuck>`_ (Tarantool's interface to "
"MsgPack), the storage type is ``MP_DOUBLE`` and the size of the encoded "
"value is always 9 bytes. In Lua, fields of the double type can only contain "
"non-integer numeric values and cdata values with double floating-point "
"numbers. Examples: ``1.234``, ``-44``, ``1.447e+44``."
msgstr ""
"**double**. Поле типа double существует главным образом для соответствия "
"типу :ref:`DOUBLE data type <sql_data_type_double>` в Tarantool/SQL . В "
"`msgpuck.h <https://github.com/rtsisyk/msgpuck>`_ (интерфейс Tarantool к "
"MsgPack) тип в хранилище — ``MP_DOUBLE``, а размер закодированного значения "
"всегда составляет 9 байтов. В Lua поля типа double могут содержать только не"
" целые числовые значения и значения cdata с числами с плавающей точкой "
"двойной точности (double). Примеры: ``1.234``, ``-44``, ``1.447e+44``."

msgid ""
"To avoid using the wrong kind of values inadvertently, use ``ffi.cast()`` "
"when searching or changing ``double`` fields. For example, instead of "
":samp:`{space_object}:insert`:code:`{`:samp:`{value}`:code:`}` use ``ffi = "
"require('ffi') ...`` "
":samp:`{space_object}:insert`:code:`({ffi.cast('double',`:samp:`{value}`:code:`)})`."
" Example:"
msgstr ""
"Чтобы избежать случайного использования неправильного типа значений, "
"используйте явное преобразование типа ``ffi.cast()``, когда вы ищете или "
"изменяете поля типа ``double``. Например, вместо "
":samp:`{space_object}:insert`:code:`{`:samp:`{value}`:code:`}` используйте "
"``ffi = require('ffi') ...`` "
":samp:`{space_object}:insert`:code:`({ffi.cast('double',`:samp:`{value}`:code:`)})`."
" Пример:"

msgid ""
"s = box.schema.space.create('s', {format = {{'d', 'double'}}})\n"
"s:create_index('ii')\n"
"s:insert({1.1})\n"
"ffi = require('ffi')\n"
"s:insert({ffi.cast('double', 1)})\n"
"s:insert({ffi.cast('double', tonumber('123'))})\n"
"s:select(1.1)\n"
"s:select({ffi.cast('double', 1)})"
msgstr ""
"s = box.schema.space.create('s', {format = {{'d', 'double'}}})\n"
"s:create_index('ii')\n"
"s:insert({1.1})\n"
"ffi = require('ffi')\n"
"s:insert({ffi.cast('double', 1)})\n"
"s:insert({ffi.cast('double', tonumber('123'))})\n"
"s:select(1.1)\n"
"s:select({ffi.cast('double', 1)})"

msgid ""
"Arithmetic with cdata ``double`` will not work reliably, so for Lua, it is "
"better to use the ``number`` type. This warning does not apply for "
"Tarantool/SQL because Tarantool/SQL does :ref:`implicit casting "
"<sql_data_type_conversion>`."
msgstr ""
"Арифметические операции с cdata формата ``double`` работают ненадёжно, "
"поэтому для Lua лучше использовать тип ``number``. Это не относится к "
"Tarantool/SQL, так как Tarantool/SQL применяет :ref:`неявное приведение "
"типов <sql_data_type_conversion>`."

msgid ""
"**number**. The Tarantool number field may have both integer and floating-"
"point values, although in Lua a ``number`` is a double-precision floating-"
"point."
msgstr ""
"**number**. Поле number в Tarantool может содержать значения как целые, так "
"и с плавающей точкой, хотя в Lua тип ``number`` означает число с плавающей "
"точкой двойной точности."

msgid ""
"Tarantool will try to store a Lua number as floating-point if the value "
"contains a decimal point or is very large (greater than 100 trillion = "
"1e14), otherwise Tarantool will store it as an integer. To ensure that even "
"very large numbers are stored as integers, use the :ref:`tonumber64 <other-"
"tonumber64>` function, or the LL (Long Long) suffix, or the ULL (Unsigned "
"Long Long) suffix. Here are examples of numbers using regular notation, "
"exponential notation, the ULL suffix and the ``tonumber64`` function: "
"``-55``, ``-2.7e+20``, ``100000000000000ULL``, "
"``tonumber64('18446744073709551615')``."
msgstr ""
"Tarantool по возможности сохраняет числа языка Lua в виде чисел с плавающей "
"запятой, если числовое значение содержит десятичную запятую или если оно "
"очень велико (более 100 триллионов = 1e14). В противном случае Tarantool "
"сохраняет такое значение в виде целого числа. Чтобы даже очень большие "
"величины гарантированно сохранялись как целые числа, используйте функцию "
":ref:`tonumber64 <other-tonumber64>` или приписывайте в конце суффикс LL "
"(Long Long) или ULL (Unsigned Long Long). Вот примеры записи чисел в обычном"
" представлении, экспоненциальном, с суффиксом ULL и с использованием функции"
" ``tonumber64``: ``−55``, ``−2.7e+20``, ``100000000000000ULL``, "
"``tonumber64('18446744073709551615')``."

msgid ""
"**decimal**. The Tarantool decimal type is stored as a MsgPack ext "
"(Extension). Values with the decimal type are not floating-point values "
"although they may contain decimal points. They are exact with up to 38 "
"digits of precision. Example: a value returned by a function in the "
":ref:`decimal <decimal>` module."
msgstr ""
"**decimal**. Тип данных decimal в Tarantool хранится в формате MsgPack ext "
"(Extension). Значения с типом decimal не являются числами с плавающей "
"запятой, хотя могут содержать десятичную запятую. Они представляют собой "
"числа с точностью до 38 знаков. Пример: значение, которое возвращает функция"
" в модуле :ref:`decimal <decimal>`."

msgid ""
"**string**. A string is a variable-length sequence of bytes, usually "
"represented with alphanumeric characters inside single quotes. In both Lua "
"and MsgPack, strings are treated as binary data, with no attempts to "
"determine a string's character set or to perform any string conversion -- "
"unless there is an optional :ref:`collation <index-collation>`. So, usually,"
" string sorting and comparison are done byte-by-byte, without any special "
"collation rules applied. For example, numbers are ordered by their point on "
"the number line, so 2345 is greater than 500; meanwhile, strings are ordered"
" by the encoding of the first byte, then the encoding of the second byte, "
"and so on, so ``'2345'`` is less than ``'500'``. Example: ``'A, B, C'``."
msgstr ""
"**string**. Строка (string) представляет собой последовательность байтов "
"переменной длины. Обычно она записывается буквенно-цифровыми символами в "
"одинарных кавычках. Как Lua, так и MsgPack рассматривают строки как двоичные"
" данные, не пытаясь определить кодировку строки или как-то её преобразовать,"
" кроме случаев, когда указаны необязательные :ref:`правила сравнения "
"символов <index-collation>`. Таким образом, обычно сортировка и сравнение "
"строк выполняются побайтово, а дополнительные правила сравнения символов не "
"применяются. Например, числа упорядочены по их положению на числовой прямой,"
" поэтому 2345 больше, чем 500. Строки же упорядочены сначала по кодировке "
"первого байта, затем по кодировке второго байта и так далее, так что "
"``'2345'`` меньше ``'500'``. Пример: ``'A, B, C'``."

msgid ""
"**bin**. A bin (binary) value is not directly supported by Lua but there is "
"a Tarantool type ``varbinary`` which is encoded as MsgPack binary. For an "
"(advanced) example showing how to insert varbinary into a database, see the "
"Cookbook Recipe for :ref:`ffi_varbinary_insert <cookbook-"
"ffi_varbinary_insert>`. Example: ``\"\\65 \\66 \\67\"``."
msgstr ""
"**bin**. Значения типа bin (двоичные значения) не поддерживаются "
"непосредственно в Lua, но в Tarantool есть тип ``varbinary``, который "
"кодируется в тип binary из MsgPack. Пример вставки varbinary в базу данных "
"см. в рекомендациях по разработке :ref:`ffi_varbinary_insert <cookbook-"
"ffi_varbinary_insert>` (продвинутого уровня). Пример: ``\"\\65 \\66 "
"\\67\"``."

msgid ""
"**uuid**. The Tarantool uuid type is used for :ref:`Universally Unique "
"Identifiers <uuid-module>`. Since version :doc:`2.4.1 </release/2.4.1>` "
"Tarantool stores ``uuid`` values as a :ref:`MsgPack ext <msgpack_ext-uuid>` (Extension)."
msgstr ""
"**uuid**. Тип uuid в Tarantool используется для :ref:`универсальных "
"уникальных идентификаторов (UUID) <uuid-module>`. Начиная с версии "
":doc:`2.4.1 </release/2.4.1>`, Tarantool хранит значения ``uuid`` в формате "
":ref:`MsgPack ext <msgpack_ext-uuid>` (Extension)."

msgid "Example: ``64d22e4d-ac92-4a23-899a-e5934af5479``."
msgstr "Пример: ``64d22e4d-ac92-4a23-899a-e5934af5479``."

msgid ""
"**array**. An array is represented in Lua with ``{...}`` (`braces "
"<https://www.lua.org/pil/11.1.html>`_). Examples: lists of numbers "
"representing points in geometric figures: ``{10, 11}``, ``{3, 5, 9, 10}``."
msgstr ""
"**array**. В Lua массив (array) обозначается ``{...}`` (`фигурными скобками "
"<https://www.lua.org/pil/11.1.html>`_). Примеры: списки чисел, которые "
"обозначают точки геометрической фигуры: ``{10, 11}``, ``{3, 5, 9, 10}``."

msgid ""
"**table**. Lua tables with string keys are stored as MsgPack maps; Lua "
"tables with integer keys starting with 1 are stored as MsgPack arrays. Nils "
"may not be used in Lua tables; the workaround is to use :ref:`box.NULL <box-"
"null>`. Example: a ``box.space.tester:select()`` request will return a Lua "
"table."
msgstr ""
"**table**. Lua-таблицы со строковыми ключами хранятся в виде ассоциативных "
"массивов MsgPack map. Lua-таблицы с целочисленными ключами, начиная с 1, "
"хранятся в виде массивов MsgPack array. В Lua-таблицах нельзя использовать "
"nil; вместо этого можно использовать :ref:`box.NULL <box-null>`. Пример: "
"запрос ``box.space.tester:select()`` вернет Lua-таблицу."

msgid ""
"**tuple**. A tuple is a light reference to a MsgPack array stored in the "
"database. It is a special type (cdata) to avoid conversion to a Lua table on"
" retrieval. A few functions may return tables with multiple tuples. For "
"tuple examples, see :ref:`box.tuple <box_tuple>`."
msgstr ""
"**tuple**. Кортеж (tuple) представляет собой легкую ссылку на массив типа "
"MsgPack array, который хранится в базе данных. Это особый тип (cdata), "
"который создан во избежание конвертации в Lua-таблицу при выборке данных. "
"Некоторые функции могут возвращать таблицы с множеством кортежей. Примеры с "
"кортежами см. в разделе :ref:`box.tuple <box_tuple>`."

msgid ""
"**scalar**. Values in a scalar field can be boolean, integer, unsigned, "
"double, number, decimal, string, uuid, or varbinary; but not array, map, or "
"tuple. Examples: ``true``, ``1``, ``'xxx'``."
msgstr ""
"**scalar**. Значения в поле типа scalar могут быть следующих типов: boolean,"
" integer, unsigned, double, number, decimal, string, uuid, varbinary. Они не"
" могут иметь тип array, map или tuple. Примеры: ``true``, ``1``, ``'xxx'``."

msgid ""
"**any**. Values in a field of this type can be boolean, integer, unsigned, "
"double, number, decimal, string, uuid, varbinary, array, map, or tuple. "
"Examples: ``true``, ``1``, ``'xxx'``, ``{box.NULL, 0}``."
msgstr ""
"**any**. Значения в поле типа any могут быть следующих типов: boolean, "
"integer, unsigned, double, number, decimal, string, uuid, varbinary, array, "
"map, tuple. Примеры: ``true``, ``1``, ``'xxx'``, ``{box.NULL, 0}``."

msgid "Examples of insert requests with different field types:"
msgstr "Примеры запросов вставки с разными типами полей:"

msgid ""
"tarantool> box.space.K:insert{1,nil,true,'A B C',12345,1.2345}\n"
"---\n"
"- [1, null, true, 'A B C', 12345, 1.2345]\n"
"...\n"
"tarantool> box.space.K:insert{2,{['a']=5,['b']=6}}\n"
"---\n"
"- [2, {'a': 5, 'b': 6}]\n"
"...\n"
"tarantool> box.space.K:insert{3,{1,2,3,4,5}}\n"
"---\n"
"- [3, [1, 2, 3, 4, 5]]\n"
"..."
msgstr ""
"tarantool> box.space.K:insert{1,nil,true,'A B C',12345,1.2345}\n"
"---\n"
"- [1, null, true, 'A B C', 12345, 1.2345]\n"
"...\n"
"tarantool> box.space.K:insert{2,{['a']=5,['b']=6}}\n"
"---\n"
"- [2, {'a': 5, 'b': 6}]\n"
"...\n"
"tarantool> box.space.K:insert{3,{1,2,3,4,5}}\n"
"---\n"
"- [3, [1, 2, 3, 4, 5]]\n"
"..."

msgid "Indexed field types"
msgstr "Типы индексированных полей"

msgid ""
"Indexes restrict values that Tarantool can store with MsgPack. This is why, "
"for example, ``'unsigned'`` and ``'integer'`` are different field types, "
"although in MsgPack they are both stored as integer values. An "
"``'unsigned'`` index contains only *non-negative* integer values, while an "
"``‘integer’`` index contains *any* integer values."
msgstr ""
"Индексы ограничивают значения, которые Tarantool может хранить в формате "
"MsgPack. Вот почему, например, есть отдельные типы полей ``'unsigned'`` "
"(число без знака) и ``'integer'`` (целое число), хотя в MsgPack они оба "
"хранятся как целочисленные значения. Индекс типа ``'unsigned'`` содержит "
"только *неотрицательные* целочисленные значения, а индекс типа ``'integer'``"
" содержит *любые* целочисленные значения."

msgid ""
"Here again are the field types described in :ref:`Field Type Details "
"<index_box_field_type_details>`, and the index types they can fit in. The "
"default field type is ``'unsigned'`` and the default index type is TREE. "
"Although ``'nil'`` is not a legal indexed field type, indexes may contain "
"`nil` :ref:`as a non-default option <box_space-is_nullable>`. Full "
"information is in section :ref:`Details about index field types "
"<details_about_index_field_types>`."
msgstr ""
"Здесь снова приводятся типы полей, описанные в :ref:`Описании типов полей "
"<index_box_field_type_details>`, а также типы индексов, где их можно "
"использовать. По умолчанию, тип поля — ``'unsigned'``, тип индекса — TREE. "
"Хотя в качестве типа индексированого поля ``'nil'`` использовать нельзя, "
"индексы могут содержать `nil` как :ref:`опцию, которая не используется по "
"умолчанию <box_space-is_nullable>`. Более подробную информацию см. в разделе"
" :ref:`Описание типов индексированных полей "
"<details_about_index_field_types>`."

msgid "Field type name string"
msgstr "Имя типа поля"

msgid "Field type |br|"
msgstr "Тип поля |br|"

msgid "Index type"
msgstr "Тип индекса"

msgid "``'boolean'``"
msgstr "``'boolean'``"

msgid ":ref:`boolean <index-box_boolean>`"
msgstr ":ref:`boolean <index-box_boolean>`"

msgid ":ref:`TREE or HASH <box_index-type>`"
msgstr ":ref:`TREE или HASH <box_index-type>`"

msgid "``'integer'`` (may also be called ``‘int’``)"
msgstr "``'integer'`` (также может называться ``‘int’``)"

msgid ":ref:`integer <index-box_integer>`, which may include unsigned values"
msgstr ""
":ref:`integer <index-box_integer>`, может включать в себя значения unsigned "
"(без знака)"

msgid "TREE or HASH"
msgstr "TREE или HASH"

msgid ""
"``'unsigned'`` (may also be called ``'uint'`` or ``'num'``, but ``'num'`` is"
" deprecated)"
msgstr ""
"``'unsigned'`` (без знака, также может называться ``'uint'`` или ``'num'``, "
"но ``'num'`` объявлен устаревшим)"

msgid ":ref:`unsigned <index-box_unsigned>`"
msgstr ":ref:`unsigned <index-box_unsigned>`"

msgid "TREE, BITSET, or HASH"
msgstr "TREE, BITSET или HASH"

msgid "``'double'``"
msgstr "``'double'``"

msgid ":ref:`double <index-box_double>`"
msgstr ":ref:`double <index-box_double>`"

msgid "``'number'``"
msgstr "``'number'``"

msgid ""
":ref:`number <index-box_number>`, which may include :ref:`integer <index-"
"box_integer>`, :ref:`double <index-box_double>`, or :ref:`decimal <index-box_decimal>` values"
msgstr ""
":ref:`number <index-box_number>`, может включать в себя значения типа "
":ref:`integer <index-box_integer>`, :ref:`double <index-box_double>` или :ref:`decimal <index-box_decimal>`"

msgid "``'decimal'``"
msgstr "``'decimal'``"

msgid ":ref:`decimal <index-box_decimal>`"
msgstr ":ref:`decimal <index-box_decimal>`"

msgid "``'string'`` (may also be called ``'str'``)"
msgstr "``'string'`` (строка, также может называться ``'str'``)"

msgid ":ref:`string <index-box_string>`"
msgstr ":ref:`string <index-box_string>`"

msgid "``'varbinary'``"
msgstr "``'varbinary'``"

msgid ":ref:`varbinary <index-box_bin>`"
msgstr ":ref:`varbinary <index-box_bin>`"

msgid "TREE, HASH, or BITSET (since version 2.7)"
msgstr "TREE, HASH или BITSET (с версии 2.7)"

msgid "``'uuid'``"
msgstr "``'uuid'``"

msgid ":ref:`uuid <index-box_uuid>`"
msgstr ":ref:`uuid <index-box_uuid>`"

msgid "``'array'``"
msgstr "``'array'``"

msgid ":ref:`array <index-box_array>`"
msgstr ":ref:`array <index-box_array>`"

msgid ":ref:`RTREE <box_index-rtree>`"
msgstr ":ref:`RTREE <box_index-rtree>`"

msgid "``'scalar'``"
msgstr "``'scalar'``"

msgid ""
"may include :ref:`nil <index-box_nil>`, :ref:`boolean <index-box_boolean>`, "
":ref:`integer <index-box_integer>`, :ref:`unsigned <index-box_unsigned>`, "
":ref:`number <index-box_number>`, :ref:`decimal <index-box_decimal>`, "
":ref:`string <index-box_string>`, :ref:`varbinary <index-box_bin>`, or "
":ref:`uuid <index-box_uuid>` values"
msgstr ""
"может содержать значения :ref:`nil <index-box_nil>`, :ref:`boolean <index-"
"box_boolean>`, :ref:`integer <index-box_integer>`, :ref:`unsigned <index-"
"box_unsigned>`, :ref:`number <index-box_number>`, :ref:`decimal <index-"
"box_decimal>`, :ref:`string <index-box_string>` или :ref:`varbinary <index-"
"box_bin>`"

msgid ""
"When a scalar field contains values of different underlying types, the key "
"order is: nils, then booleans, then numbers, then strings, then varbinaries,"
" then uuids."
msgstr ""
"Когда поле типа scalar содержит значения различных базовых типов, то порядок"
" ключей следующий: nil, затем boolean, затем number, затем string, затем "
"varbinary, затем uuid."

msgid "Collations"
msgstr "Сортировка"

msgid ""
"By default, when Tarantool compares strings, it uses the so-called **binary "
"collation**. It only considers the numeric value of each byte in a string. "
"For example, the encoding of ``'A'`` (what used to be called the \"ASCII "
"value\") is 65, the encoding of ``'B'`` is 66, and the encoding of ``'a'`` "
"is 98. Therefore, if the string is encoded with ASCII or UTF-8, then ``'A' <"
" 'B' < 'a'``."
msgstr ""
"Когда Tarantool сравнивает строки, по умолчанию он использует **двоичные "
"параметры сортировки** (**binary collation**). При этом он учитывает только "
"числовое значение каждого байта в строке. Например, код символа ``'A'`` "
"(раньше называлась \"значение ASCII\") — число 65, код ``'B'`` — число 66, а"
" код ``'a'`` -- число 98. Поэтому ``'A' < 'B' < 'a'``, если строка "
"закодирована в ASCII или UTF-8."

msgid ""
"Binary collation is the best choice for fast deterministic simple "
"maintenance and searching with Tarantool indexes."
msgstr ""
"Двоичная сортировка — лучший выбор для быстрого детерминированного простого "
"обслуживания и поиска с использованием индексов Tarantool."

msgid ""
"But if you want the ordering that you see in phone books and dictionaries, "
"then you need Tarantool's optional collations, such as ``unicode`` and "
"``unicode_ci``, which allow for ``'a' < 'A' < 'B'`` and ``'a' == 'A' < 'B'``"
" respectively."
msgstr ""
"Но если вы хотите такое упорядочение, как в телефонных справочниках и "
"словарях, то вам нужна одна из дополнительных сортировок Tarantool: "
"``unicode`` или ``unicode_ci``. Они обеспечивают ``'a' < 'A' < 'B'`` и ``'a'"
" == 'A' < 'B'`` соответственно."

msgid ""
"**The unicode and unicode_ci optional collations** use the ordering "
"according to the `Default Unicode Collation Element Table (DUCET) "
"<http://unicode.org/reports/tr10/#Default_Unicode_Collation_Element_Table>`_"
" and the rules described in `Unicode® Technical Standard #10 Unicode "
"Collation Algorithm (UTS #10 UCA) <http://unicode.org/reports/tr10>`_. The "
"only difference between the two collations is about `weights "
"<https://unicode.org/reports/tr10/#Weight_Level_Defn>`_:"
msgstr ""
"Дополнительные виды сортировки **unicode и unicode_ci** обеспечивают "
"упорядочение в соответствии с `Таблицей сортировки символов Юникода по "
"умолчанию (DUCET) "
"<http://unicode.org/reports/tr10/#Default_Unicode_Collation_Element_Table>`_"
" и правилами, указанными в `Техническом стандарте Юникода №10 -- Алгоритм "
"сортировки по Юникоду (Unicode® Technical Standard #10 Unicode Collation "
"Algorithm (UTS #10 UCA)) <http://unicode.org/reports/tr10>`_. Единственное "
"отличие между двумя видами сортировки — `вес "
"<https://unicode.org/reports/tr10/#Weight_Level_Defn>`_:"

msgid ""
"``unicode`` collation observes L1, L2, and L3 weights (strength = "
"'tertiary');"
msgstr ""
"сортировка ``unicode`` принимает во внимание уровни веса L1, L2 и L3 "
"(уровень = 'tertiary', третичный);"

msgid ""
"``unicode_ci`` collation observes only L1 weights (strength = 'primary'), so"
" for example ``'a' == 'A' == 'á' == 'Á'``."
msgstr ""
"сортировка ``unicode_ci`` принимает во внимание только вес L1 (уровень = "
"'primary', первичный), поэтому, например, ``'a' == 'A' == 'á' == 'Á'``."

msgid "As an example, take some Russian words:"
msgstr "Для примера возьмем некоторые русские слова:"

msgid ""
"'ЕЛЕ'\n"
"'елейный'\n"
"'ёлка'\n"
"'еловый'\n"
"'елозить'\n"
"'Ёлочка'\n"
"'ёлочный'\n"
"'ЕЛь'\n"
"'ель'"
msgstr ""
"'ЕЛЕ'\n"
"'елейный'\n"
"'ёлка'\n"
"'еловый'\n"
"'елозить'\n"
"'Ёлочка'\n"
"'ёлочный'\n"
"'ЕЛь'\n"
"'ель'"

msgid "...and show the difference in ordering and selecting by index:"
msgstr "...и покажем разницу в упорядочении и выборке по индексу:"

msgid "with ``unicode`` collation:"
msgstr "с сортировкой по ``unicode``:"

msgid ""
"tarantool> box.space.T:create_index('I', {parts = {{field = 1, type = 'str', collation='unicode'}}})\n"
"...\n"
"tarantool> box.space.T.index.I:select()\n"
"---\n"
"- - ['ЕЛЕ']\n"
"  - ['елейный']\n"
"  - ['ёлка']\n"
"  - ['еловый']\n"
"  - ['елозить']\n"
"  - ['Ёлочка']\n"
"  - ['ёлочный']\n"
"  - ['ель']\n"
"  - ['ЕЛь']\n"
"...\n"
"tarantool> box.space.T.index.I:select{'ЁлКа'}\n"
"---\n"
"- []\n"
"..."
msgstr ""
"tarantool> box.space.T:create_index('I', {parts = {{field = 1, type = 'str', collation='unicode'}}})\n"
"...\n"
"tarantool> box.space.T.index.I:select()\n"
"---\n"
"- - ['ЕЛЕ']\n"
"  - ['елейный']\n"
"  - ['ёлка']\n"
"  - ['еловый']\n"
"  - ['елозить']\n"
"  - ['Ёлочка']\n"
"  - ['ёлочный']\n"
"  - ['ель']\n"
"  - ['ЕЛь']\n"
"...\n"
"tarantool> box.space.T.index.I:select{'ЁлКа'}\n"
"---\n"
"- []\n"
"..."

msgid "with ``unicode_ci`` collation:"
msgstr "с сортировкой по ``unicode_ci``:"

msgid ""
"tarantool> box.space.T:create_index('I', {parts = {{field = 1, type ='str', collation='unicode_ci'}}})\n"
"...\n"
"tarantool> box.space.T.index.I:select()\n"
"---\n"
"- - ['ЕЛЕ']\n"
"  - ['елейный']\n"
"  - ['ёлка']\n"
"  - ['еловый']\n"
"  - ['елозить']\n"
"  - ['Ёлочка']\n"
"  - ['ёлочный']\n"
"  - ['ЕЛь']\n"
"...\n"
"tarantool> box.space.T.index.I:select{'ЁлКа'}\n"
"---\n"
"- - ['ёлка']\n"
"..."
msgstr ""
"tarantool> box.space.T:create_index('I', {parts = {{field = 1, type ='str', collation='unicode_ci'}}})\n"
"...\n"
"tarantool> box.space.T.index.I:select()\n"
"---\n"
"- - ['ЕЛЕ']\n"
"  - ['елейный']\n"
"  - ['ёлка']\n"
"  - ['еловый']\n"
"  - ['елозить']\n"
"  - ['Ёлочка']\n"
"  - ['ёлочный']\n"
"  - ['ЕЛь']\n"
"...\n"
"tarantool> box.space.T.index.I:select{'ЁлКа'}\n"
"---\n"
"- - ['ёлка']\n"
"..."

msgid ""
"In all, collation involves much more than these simple examples of upper "
"case / lower case and accented / unaccented equivalence in alphabets. We "
"also consider variations of the same character, non-alphabetic writing "
"systems, and special rules that apply for combinations of characters."
msgstr ""
"Сортировка включает в себя ещё множество аспектов, кроме показанного в этом "
"примере сопоставления букв верхнего и нижнего регистра, с диакритическими "
"знаками и без них, и с учётом алфавита. Учитываются также вариации одного и "
"того же символа, системы неалфавитного письма и применяются специальные "
"правила для комбинаций символов."

msgid ""
"For English, Russian, and most other languages and use cases, use the "
"\"unicode\" and \"unicode_ci\" collations. If you need Cyrillic letters 'Е' "
"and 'Ё' to have the same level-1 weights, try the Kyrgyz collation."
msgstr ""
"Для английского, русского и большинства других языков используйте "
"\"unicode\" и \"unicode_ci\". Если вам нужно, чтобы у кириллических букв 'Е'"
" и 'Ё' веса 1 уровня были одинаковыми, попробуйте киргизскую сортировку."

msgid ""
"**The tailored optional collations**: for other languages, Tarantool "
"supplies tailored collations for every modern language that has more than a "
"million native speakers, and for specialized situations such as the "
"difference between dictionary order and telephone book order. Run "
"``box.space._collation:select()`` to see the complete list."
msgstr ""
"**Специализированные дополнительные виды сортировки**: Для других языков "
"Tarantool предлагает специализированные виды сортировки для любого "
"современного языка, на котором говорят более миллиона человек. Кроме того, "
"специализированные дополнительные виды сортировки возможны для особых "
"случаев, когда слова в словаре упорядочиваются не так, как в телефонном "
"справочнике. Чтобы увидеть полный список, выполните команду "
"``box.space._collation:select()``."

msgid ""
"The tailored collation names have the form ``unicode_[language "
"code]_[strength]``, where language code is a standard 2-character or "
"3-character language abbreviation, and strength is ``s1`` for \"primary "
"strength\" (level-1 weights), ``s2`` for \"secondary\", ``s3`` for "
"\"tertiary\". Tarantool uses the same language codes as the ones in the "
"\"list of tailorable locales\" on man pages of `Ubuntu "
"<http://manpages.ubuntu.com/manpages/bionic/man3/Unicode::Collate::Locale.3perl.html>`_"
" and `Fedora "
"<http://www.polarhome.com/service/man/?qf=Unicode%3A%3ACollate%3A%3ALocale&af=0&tf=2&of=Fedora>`_."
" Charts explaining the precise differences from DUCET order are in the "
"`Common Language Data Repository "
"<https://unicode.org/cldr/charts/30/collation>`_."
msgstr ""
"Названия специализированных видов сортировки имеют вид ``unicode_[language "
"code]_[strength]``], где language code — это стандартный код языка из 2 или "
"3 символов, а значение strength может быть ``s1`` для уровня \"primary\" "
"(вес уровня 1), ``s2`` для уровня \"secondary\", ``s3`` для уровня "
"\"tertiary\". Tarantool использует те же коды языков, что указаны в списке "
"специализированных вариантов языковых настроек на страницах руководств по "
"`Ubuntu "
"<http://manpages.ubuntu.com/manpages/bionic/man3/Unicode::Collate::Locale.3perl.html>`_"
" и `Fedora "
"<http://www.polarhome.com/service/man/?qf=Unicode%3A%3ACollate%3A%3ALocale&af=0&tf=2&of=Fedora>`_."
" Схемы, в деталях объясняющие отличия от упорядочения по DUCET, можно найти "
"в `Общем репозитории языковых данных (Common Language Data Repository) "
"<https://unicode.org/cldr/charts/30/collation>`_."

msgid "Sequences"
msgstr "Последовательности"

msgid "A **sequence** is a generator of ordered integer values."
msgstr ""
"**Последовательность** -- это генератор упорядоченных значений целых чисел."

msgid ""
"As with spaces and indexes, you should specify the sequence **name** and let"
" Tarantool generate a unique numeric identifier (sequence ID)."
msgstr ""
"Как и для спейсов и индексов, для последовательности вы должны указать "
"**имя**, а Tarantool создаст уникальный для неё числовой идентификатор (\"ID"
" последовательности)."

msgid ""
"As well, you can specify several options when creating a new sequence. The "
"options determine what value will be generated whenever the sequence is "
"used."
msgstr ""
"Кроме того, можно указать несколько параметров при создании новой "
"последовательности. Параметры определяют, какое значение будет "
"генерироваться при использовании последовательности."

msgid "Options for box.schema.sequence.create()"
msgstr "Параметры для box.schema.sequence.create()"

msgid "Option name"
msgstr "Имя параметра"

msgid "Type and meaning"
msgstr "Тип и значение"

msgid "Default"
msgstr "Значение по умолчанию"

msgid "Examples"
msgstr "Примеры"

msgid "**start**"
msgstr "**start**"

msgid "Integer. The value to generate the first time a sequence is used"
msgstr ""
"Integer. Значение генерируется, когда последовательность используется "
"впервые"

msgid "1"
msgstr "1"

msgid "start=0"
msgstr "start=0"

msgid "**min**"
msgstr "**min**"

msgid "Integer. Values smaller than this cannot be generated"
msgstr "Integer. Значения, ниже указанного, генерироваться не могут"

msgid "min=-1000"
msgstr "min=-1000"

msgid "**max**"
msgstr "**max**"

msgid "Integer. Values larger than this cannot be generated"
msgstr "Integer. Значения, выше указанного, генерироваться не могут"

msgid "9223372036854775807"
msgstr "9223372036854775807"

msgid "max=0"
msgstr "max=0"

msgid "**cycle**"
msgstr "**cycle**"

msgid "Boolean. Whether to start again when values cannot be generated"
msgstr ""
"Логическое значение. Если значения не могут быть сгенерированы, начинать ли "
"заново"

msgid "false"
msgstr "false"

msgid "cycle=true"
msgstr "cycle=true"

msgid "**cache**"
msgstr "**cache**"

msgid "Integer. The number of values to store in a cache"
msgstr "Integer. Количество значений, которые будут храниться в кэше"

msgid "0"
msgstr "0"

msgid "cache=0"
msgstr "cache=0"

msgid "**step**"
msgstr "**step**"

msgid ""
"Integer. What to add to the previous generated value, when generating a new "
"value"
msgstr ""
"Integer. Что добавить к предыдущему сгенерированному значению, когда "
"генерируется новое значение"

msgid "step=-1"
msgstr "step=-1"

msgid "**if_not_exists**"
msgstr "**if_not_exists** (если отсутствует)"

msgid ""
"Boolean. If this is true and a sequence with this name exists already, "
"ignore other options and use the existing values"
msgstr ""
"Логическое значение. Если выставлено в true (истина) и существует "
"последовательность с таким именем, то игнорировать другие опции и "
"использовать текущие значения"

msgid "if_not_exists=true"
msgstr "if_not_exists=true"

msgid ""
"Once a sequence exists, it can be altered, dropped, reset, forced to "
"generate the next value, or associated with an index."
msgstr ""
"Существующую последовательность можно изменять, удалять, сбрасывать, "
"заставить сгенерировать новое значение или ассоциировать с индексом."

msgid "For an initial example, we generate a sequence named 'S'."
msgstr ""
"Для первоначального примера сгенерируем последовательность под названием "
"'S'."

msgid ""
"tarantool> box.schema.sequence.create('S',{min=5, start=5})\n"
"---\n"
"- step: 1\n"
"  id: 5\n"
"  min: 5\n"
"  cache: 0\n"
"  uid: 1\n"
"  max: 9223372036854775807\n"
"  cycle: false\n"
"  name: S\n"
"  start: 5\n"
"..."
msgstr ""
"tarantool> box.schema.sequence.create('S',{min=5, start=5})\n"
"---\n"
"- step: 1\n"
"  id: 5\n"
"  min: 5\n"
"  cache: 0\n"
"  uid: 1\n"
"  max: 9223372036854775807\n"
"  cycle: false\n"
"  name: S\n"
"  start: 5\n"
"..."

msgid ""
"The result shows that the new sequence has all default values, except for "
"the two that were specified, ``min`` and ``start``."
msgstr ""
"В результате видим, что в новой последовательность есть все значения по "
"умолчанию, за исключением указанных ``min`` и ``start``."

msgid "Then we get the next value, with the ``next()`` function."
msgstr "Затем получаем следующее значение с помощью функции ``next()``."

msgid ""
"tarantool> box.sequence.S:next()\n"
"---\n"
"- 5\n"
"..."
msgstr ""
"tarantool> box.sequence.S:next()\n"
"---\n"
"- 5\n"
"..."

msgid ""
"The result is the same as the start value. If we called ``next()`` again, we"
" would get 6 (because the previous value plus the step value is 6), and so "
"on."
msgstr ""
"Результат точно такой же, как и начальное значение. Если мы снова вызовем "
"``next()``, то получим 6 (потому что предыдущее значение плюс значение шага "
"составит 6) и так далее."

msgid ""
"Then we create a new table and specify that its primary key should be "
"generated from the sequence."
msgstr ""
"Затем мы создаём новую таблицу и определяем, что ее первичный ключ должен "
"быть получен из последовательности."

msgid ""
"tarantool> s=box.schema.space.create('T')\n"
"---\n"
"...\n"
"tarantool> s:create_index('I',{sequence='S'})\n"
"---\n"
"- parts:\n"
"  - type: unsigned\n"
"    is_nullable: false\n"
"    fieldno: 1\n"
"  sequence_id: 1\n"
"  id: 0\n"
"  space_id: 520\n"
"  unique: true\n"
"  type: TREE\n"
"  sequence_fieldno: 1\n"
"  name: I\n"
"...\n"
"---\n"
"..."
msgstr ""
"tarantool> s=box.schema.space.create('T')\n"
"---\n"
"...\n"
"tarantool> s:create_index('I',{sequence='S'})\n"
"---\n"
"- parts:\n"
"  - type: unsigned\n"
"    is_nullable: false\n"
"    fieldno: 1\n"
"  sequence_id: 1\n"
"  id: 0\n"
"  space_id: 520\n"
"  unique: true\n"
"  type: TREE\n"
"  sequence_fieldno: 1\n"
"  name: I\n"
"...\n"
"---\n"
"..."

msgid "Then we insert a tuple without specifying a value for the primary key."
msgstr "Затем вставляем кортеж, не указывая значение первичного ключа."

msgid ""
"tarantool> box.space.T:insert{nil,'other stuff'}\n"
"---\n"
"- [6, 'other stuff']\n"
"..."
msgstr ""
"tarantool> box.space.T:insert{nil,'other stuff'}\n"
"---\n"
"- [6, 'other stuff']\n"
"..."

msgid ""
"The result is a new tuple where the first field has a value of 6. This "
"arrangement, where the system automatically generates the values for a "
"primary key, is sometimes called \"auto-incrementing\" or \"identity\"."
msgstr ""
"В результате имеем новый кортеж со значением 6 в первом поле. Такой способ "
"организации данных, когда система автоматически генерирует значения для "
"первичного ключа, иногда называется \"автоинкрементным\" (т.е. с "
"автоматическим увеличением) или \"по идентификатору\"."

msgid ""
"For syntax and implementation details, see the reference for "
":doc:`box.schema.sequence </reference/reference_lua/box_schema_sequence>`."
msgstr ""
"Для получения подробной информации о синтаксисе и методах реализации см. "
"справочник по :doc:`box.schema.sequence "
"</reference/reference_lua/box_schema_sequence>`."

msgid "Persistence"
msgstr "Персистентность"

msgid ""
"To ensure data persistence, Tarantool records updates to the database in the"
" so-called :ref:`write-ahead log (WAL) <internals-wal>` files. When a power "
"outage occurs or the Tarantool instance is killed incidentally, the in-"
"memory database is lost. In such case, Tarantool restores the data from WAL "
"files by reading them and redoing the requests. This is called the "
"\"recovery process\". You can change the timing of the WAL writer or turn it"
" off by setting the :ref:`wal_mode <cfg_binary_logging_snapshots-wal_mode>`."
msgstr ""
"Чтобы обеспечить персистентность данных, Tarantool записывает обновления "
"базы данных в так называемые :ref:`файлы журнала упреждающей записи (write-"
"ahead log, WAL) <internals-wal>`. При отключении электроэнергии или "
"случайном завершении работы экземпляра Tarantool данные в оперативной памяти"
" теряются. В таком случае Tarantool восстанавливает данные из WAL-файлов, "
"повторно выполняя запросы, записанные в них. Это называется \"процесс "
"восстановления\". Можно настроить, как часто данные записываются в WAL-"
"файлы, или отключить запись совсем с помощью :ref:`wal_mode "
"<cfg_binary_logging_snapshots-wal_mode>`."

msgid ""
"Tarantool also maintains a set of :ref:`snapshot files <internals-"
"snapshot>`. These files contain an on-disk copy of the entire data set for a"
" given moment. Instead of reading every WAL file since the databases were "
"created, the recovery process can load the latest snapshot file and then "
"read the WAL files, produced after the snapshot file was made. After "
"creating a new snapshot, the earlier WAL files can be removed to free up "
"space."
msgstr ""
"Tarantool также сохраняет набор файлов со статическими снимками данных "
"(:ref:`snapshots <internals-snapshot>`). Файл со снимком — это дисковая "
"копия всех данных в базе на какой-то момент. Вместо того, чтобы перечитывать"
" все WAL-файлы с момента создания базы, Tarantool в процессе восстановления "
"может загрузить самый свежий снимок и затем прочитать только те WAL-файлы, "
"которые были созданы начиная с момента сохранения снимка. После создания "
"новых снимков более ранние WAL-файлы могут быть удалены, чтобы освободить "
"место на диске."

msgid ""
"To force immediate creation of a snapshot file, use the :doc:`box.snapshot()"
" </reference/reference_lua/box_snapshot>` function. To enable the automatic "
"creation of snapshot files, use Tarantool's :ref:`checkpoint daemon "
"<book_cfg_checkpoint_daemon>`. The checkpoint daemon sets intervals for "
"forced checkpoints. It makes sure that the states of both memtx and vinyl "
"storage engines are synchronized and saved to disk, and automatically "
"removes earlier WAL files."
msgstr ""
"Чтобы принудительно создать файл снимка, используйте в Tarantool функцию "
":doc:`box.snapshot() </reference/reference_lua/box_snapshot>`. Чтобы "
"включить автоматическое создание файлов снимков, используйте :ref:`демон "
"создания контрольных точек (checkpoint daemon) <book_cfg_checkpoint_daemon>`"
" Tarantool. Этот демон определяет интервалы для принудительного создания "
"контрольных точек. Он обеспечивает синхронизацию и сохранение на диск "
"образов движков базы данных (как memtx, так и vinyl), а также автоматически "
"удаляет более ранние WAL-файлы."

msgid "Snapshot files can be created even if there is no WAL file."
msgstr "Файлы со снимками можно создавать, даже если WAL-файлы отсутствуют."

msgid ""
"The memtx engine makes only regular checkpoints with the interval set in "
":ref:`checkpoint daemon <book_cfg_checkpoint_daemon>` configuration."
msgstr ""
"Движок memtx регулярно создает контрольные точки с интервалом, указанным в "
"настройках :ref:`демона создания контрольных точек "
"<book_cfg_checkpoint_daemon>`."

msgid "The vinyl engine runs checkpointing in the background at all times."
msgstr ""
"Движок vinyl постоянно сохраняет состояние в контрольной точке в фоновом "
"режиме."

msgid ""
"See the :ref:`Internals <internals-data_persistence>` section for more "
"details about the WAL writer and the recovery process."
msgstr ""
"Для получения более подробной информации о методе записи WAL-файлов и "
"процессе восстановления см. раздел :ref:`Внутренняя реализация <internals-"
"data_persistence>`."

msgid "Operations"
msgstr "Операции"

msgid "Data operations"
msgstr "Операции с данными"

msgid "The basic data operations supported in Tarantool are:"
msgstr "Tarantool поддерживает следующие основные операции с данными:"

msgid ""
"five data-manipulation operations (INSERT, UPDATE, UPSERT, DELETE, REPLACE),"
" and"
msgstr ""
"пять операций по изменению данных (INSERT, UPDATE, UPSERT, DELETE, REPLACE) "
"и"

msgid "one data-retrieval operation (SELECT)."
msgstr "одну операцию по выборке данных (SELECT)."

msgid ""
"All of them are implemented as functions in :ref:`box.space <box_space>` "
"submodule."
msgstr ""
"Все они реализованы в виде функций во вложенном модуле  :ref:`box.space "
"<box_space>`."

msgid "**Examples:**"
msgstr "**Примеры:**"

msgid ":ref:`INSERT <box_space-insert>`: Add a new tuple to space 'tester'."
msgstr ""
":ref:`INSERT <box_space-insert>`: добавить новый кортеж к спейсу 'tester'."

msgid "The first field, field[1], will be 999 (MsgPack type is `integer`)."
msgstr ""
"Первое поле, field[1], будет 999 (тип MsgPack -- `integer`, целое число)."

msgid ""
"The second field, field[2], will be 'Taranto' (MsgPack type is `string`)."
msgstr ""
"Второе поле, field[2], будет 'Taranto' (тип MsgPack -- `string`, строка)."

msgid "tarantool> box.space.tester:insert{999, 'Taranto'}"
msgstr "tarantool> box.space.tester:insert{999, 'Taranto'}"

msgid ""
":ref:`UPDATE <box_space-update>`: Update the tuple, changing field field[2]."
msgstr ""
":ref:`UPDATE <box_space-update>`: обновить кортеж, изменяя поле field[2]."

msgid ""
"The clause \"{999}\", which has the value to look up in the index of the "
"tuple's primary-key field, is mandatory, because ``update()`` requests must "
"always have a clause that specifies a unique key, which in this case is "
"field[1]."
msgstr ""
"Оператор \"{999}\" со значением, которое используется для поиска поля, "
"соответствующего ключу в первичном индексе, является обязательным, поскольку"
" в запросе ``update()`` должен быть оператор, который указывает уникальный "
"ключ, в данном случае -- field[1]."

msgid ""
"The clause \"{{'=', 2, 'Tarantino'}}\" specifies that assignment will happen"
" to field[2] with the new value."
msgstr ""
"Оператор \"{{'=', 2, 'Tarantino'}}\" указывает, что назначение нового "
"значения относится к field[2]."

msgid "tarantool> box.space.tester:update({999}, {{'=', 2, 'Tarantino'}})"
msgstr "tarantool> box.space.tester:update({999}, {{'=', 2, 'Tarantino'}})"

msgid ""
":ref:`UPSERT <box_space-upsert>`: Upsert the tuple, changing field field[2] "
"again."
msgstr ""
":ref:`UPSERT <box_space-upsert>`: обновить или вставить кортеж, снова "
"изменяя поле field[2]."

msgid ""
"The syntax of ``upsert()`` is similar to the syntax of ``update()``. "
"However, the execution logic of these two requests is different. UPSERT is "
"either UPDATE or INSERT, depending on the database's state. Also, UPSERT "
"execution is postponed until after transaction commit, so, unlike "
"``update()``, ``upsert()`` doesn't return data back."
msgstr ""
"Синтаксис ``upsert()`` похож на синтаксис ``update()``. Однако логика "
"выполнения двух запросов отличается. UPSERT означает UPDATE или INSERT, в "
"зависимости от состояния базы данных. Кроме того, выполнение UPSERT "
"откладывается до коммита транзакции, поэтому в отличие от ``update()``, "
"``upsert()`` не возвращает данные."

msgid ""
"tarantool> box.space.tester:upsert({999, 'Taranted'}, {{'=', 2, "
"'Tarantism'}})"
msgstr ""
"tarantool> box.space.tester:upsert({999, 'Taranted'}, {{'=', 2, "
"'Tarantism'}})"

msgid ""
":ref:`REPLACE <box_space-replace>`: Replace the tuple, adding a new field."
msgstr ""
":ref:`REPLACE <box_space-replace>`: заменить кортеж, добавляя новое поле."

msgid ""
"This is also possible with the ``update()`` request, but the ``update()`` "
"request is usually more complicated."
msgstr ""
"Это действие также можно выполнить с помощью запроса ``update()``, но обычно"
" запрос ``update()`` более сложен."

msgid "tarantool> box.space.tester:replace{999, 'Tarantella', 'Tarantula'}"
msgstr "tarantool> box.space.tester:replace{999, 'Tarantella', 'Tarantula'}"

msgid ":ref:`SELECT <box_space-select>`: Retrieve the tuple."
msgstr ":ref:`SELECT <box_space-select>`: провести выборку кортежа."

msgid ""
"The clause \"{999}\" is still mandatory, although it does not have to "
"mention the primary key."
msgstr ""
"Оператор \"{999}\" все еще обязателен, хотя в нем не должен упоминаться "
"первичный ключ."

msgid "tarantool> box.space.tester:select{999}"
msgstr "tarantool> box.space.tester:select{999}"

msgid ":ref:`DELETE <box_space-delete>`: Delete the tuple."
msgstr ":ref:`DELETE <box_space-delete>`: удалить кортеж."

msgid "In this example, we identify the primary-key field."
msgstr ""
"В этом примере мы определяем поле, соответствующее ключу в первичном "
"индексе."

msgid "tarantool> box.space.tester:delete{999}"
msgstr "tarantool> box.space.tester:delete{999}"

msgid "Summarizing the examples:"
msgstr "Подводя итоги по примерам:"

msgid ""
"Functions ``insert`` and ``replace`` accept a tuple (where a primary key "
"comes as part of the tuple)."
msgstr ""
"Функции ``insert`` и ``replace`` принимают кортеж (где первичный ключ -- это"
" часть кортежа)."

msgid ""
"Function ``upsert`` accepts a tuple (where a primary key comes as part of "
"the tuple), and also the update operations to execute."
msgstr ""
"Функция ``upsert`` принимает кортеж (где первичный ключ -- это часть "
"кортежа), а также операции по обновлению."

msgid ""
"Function ``delete`` accepts a full key of any unique index (primary or "
"secondary)."
msgstr ""
"Функция ``delete`` принимает полный ключ любого уникального индекса "
"(первичный или вторичный)."

msgid ""
"Function ``update`` accepts a full key of any unique index (primary or "
"secondary), and also the operations to execute."
msgstr ""
"Функция  ``update`` принимает полный ключ любого уникального индекса "
"(первичный или вторичный), а также операции к выполнению."

msgid ""
"Function ``select`` accepts any key: primary/secondary, unique/non-unique, "
"full/partial."
msgstr ""
"Функция ``select`` принимает любой ключ: первичный/вторичный, "
"уникальный/неуникальный, полный/часть."

msgid ""
"See reference on ``box.space`` for more :ref:`details on using data "
"operations <box_space-operations-detailed-examples>`."
msgstr ""
"Для получения более :ref:`подробной информации по использованию операций с "
"данными <box_space-operations-detailed-examples>` см. справочник по "
"``box.space``."

msgid ""
"Besides Lua, you can use :ref:`Perl, PHP, Python or other programming "
"language connectors <index-box_connectors>`. The client server protocol is "
"open and documented. See this :ref:`annotated BNF <box_protocol-"
"iproto_protocol>`."
msgstr ""
"Помимо Lua можно использовать :ref:`коннекторы к Perl, PHP, Python или "
"другому языку программирования <index-box_connectors>`. Клиент-серверный "
"протокол открыт и задокументирован. См. :ref:`БНФ с комментариями "
"<box_protocol-iproto_protocol>`."

msgid "Complexity factors"
msgstr "Факторы сложности"

msgid ""
"In reference for :ref:`box.space <box_space>` and "
":doc:`/reference/reference_lua/box_index` submodules, there are notes about "
"which complexity factors might affect the resource usage of each function."
msgstr ""
"Во вложенных модулях :ref:`box.space <box_space>` и "
":doc:`/reference/reference_lua/box_index` содержится информация о том, как "
"факторы сложности могут повлиять на использование каждой функции."

msgid "Complexity factor"
msgstr "Фактор сложности"

msgid "Effect"
msgstr "Эффект"

msgid "Index size"
msgstr "Размер индекса"

msgid ""
"The number of index keys is the same as the number of tuples in the data "
"set. For a TREE index, if there are more keys, then the lookup time will be "
"greater, although, of course, the effect is not linear. For a HASH index, if"
" there are more keys, then there is more RAM used, but the number of low-"
"level steps tends to remain constant."
msgstr ""
"Количество ключей в индексе равно количеству кортежей в наборе данных. Для "
"TREE-индекса: чем больше ключей, тем больше время поиска, хотя зависимость "
"здесь, конечно же, нелинейная. Для HASH-индекса: чем больше ключей, тем "
"больше нужно оперативной памяти, но количество низкоуровневых шагов остается"
" примерно тем же."

msgid ""
"Typically, a HASH index is faster than a TREE index if the number of tuples "
"in the space is greater than one."
msgstr ""
"Как правило, поиск по HASH-индексу работает быстрее, чем по TREE-индексу,  "
"если в спейсе более одного кортежа."

msgid "Number of indexes accessed"
msgstr "Количество обращений к индексам"

msgid ""
"Ordinarily, only one index is accessed to retrieve one tuple. But to update "
"the tuple, there must be N accesses if the space has N different indexes."
msgstr ""
"Обычно для выборки значений одного кортежа используется только один индекс. "
"Но при обновлении значений в кортеже требуется N обращений, если в спейсе N "
"индексов."

msgid ""
"Note regarding storage engine: Vinyl optimizes away such accesses if "
"secondary index fields are unchanged by the update. So, this complexity "
"factor applies only to memtx, since it always makes a full-tuple copy on "
"every update."
msgstr ""
"Примечание по движку базы данных: если обновление не затрагивает поля "
"вторичного индекса, vinyl не производит эти обращения. Таким образом, этот "
"фактор сложности влияет только на memtx, который создает копию всего кортежа"
" при каждом обновлении."

msgid "Number of tuples accessed"
msgstr "Количество обращений к кортежам"

msgid ""
"A few requests, for example, SELECT, can retrieve multiple tuples. This "
"factor is usually less important than the others."
msgstr ""
"Некоторые запросы, например SELECT, могут возвращать несколько кортежей. "
"Обычно этот фактор менее важен, чем другие."

msgid "WAL settings"
msgstr "Настройки WAL"

msgid ""
"The important setting for the write-ahead log is :ref:`wal_mode "
"<cfg_binary_logging_snapshots-wal_mode>`. If the setting causes no writing "
"or delayed writing, this factor is unimportant. If the setting causes every "
"data-change request to wait for writing to finish on a slow device, this "
"factor is more important than all the others."
msgstr ""
"Важным параметром для записи в WAL является :ref:`wal_mode "
"<cfg_binary_logging_snapshots-wal_mode>`. Если запись в WAL отключена или "
"задана запись с задержкой, но этот фактор не так важен. Если же запись в  "
"WAL производится при каждом запросе на изменение данных, то при каждом таком"
" запросе приходится ждать, пока отработает обращение к более медленному "
"диску, и данный фактор становится важнее всех остальных."

msgid "Data schema description"
msgstr "Описание схемы данных"

msgid "In Tarantool, the use of a data schema is optional."
msgstr "В Tarantool использование схемы данных опционально."

msgid ""
"When creating a :term:`space <space>`, you do not have to define a data "
"schema. In this case, the tuples store random data. This rule does not apply"
" to indexed fields. Such fields must contain data of the same type."
msgstr ""
"При создании :term:`спейса <space>` схему можно не задавать и тогда в "
"кортежах могут лежать произвольные данные. Это правило не распространяется "
"на поля, по которым построены индексы. У таких полей данные должны быть "
"одного типа."

msgid ""
"You can define a data schema when creating a space. Read more in the "
"description of the :doc:`/reference/reference_lua/box_schema/space_create` "
"function. If you have already created a space without specifying a data "
"schema, you can do it later using "
":doc:`/reference/reference_lua/box_space/format`."
msgstr ""
"Схему можно задать при создании спейса. Читайте подробнее в описании функции"
" :doc:`/reference/reference_lua/box_schema/space_create`. Если вы создали "
"спейс без схемы, ее можно добавить позже с помощью метода "
":doc:`/reference/reference_lua/box_space/format`."

msgid ""
"After the data schema is defined, all the data is validated by type. Before "
"any insert or update, you will get an error if the data types do not match."
msgstr ""
"После указания схемы данные начинают валидироваться по типам. Перед каждой "
"операцией вставки или обновления они проверяются, и в случае несоответствия "
"типов вы получите ошибку."

msgid "We recommend using a data schema because it helps avoid mistakes."
msgstr ""
"Мы рекомендуем использовать подход со схемой, потому что он помогает "
"избежать ошибок."

msgid "In Tarantool, you can define a data schema in two different ways."
msgstr "Схему в Tarantool можно задавать двумя разными способами."

msgid "Data schema description in a code file"
msgstr "Описание схемы в файле с кодом"

msgid ""
"The code file is usually called ``init.lua`` and contains the following "
"schema description:"
msgstr ""
"Обычно файл с кодом называется ``init.lua`` и имеет следующее описание "
"схемы:"

msgid ""
"box.cfg()\n"
"\n"
"users = box.schema.create_space('users', { if_not_exists = true })\n"
"users:format({{ name = 'user_id', type = 'number'}, { name = 'fullname', type = 'string'}})\n"
"\n"
"users:create_index('pk', { parts = { { field = 'user_id', type = 'number'}}})"
msgstr ""
"box.cfg()\n"
"\n"
"users = box.schema.create_space('users', { if_not_exists = true })\n"
"users:format({{ name = 'user_id', type = 'number'}, { name = 'fullname', type = 'string'}})\n"
"\n"
"users:create_index('pk', { parts = { { field = 'user_id', type = 'number'}}})"

msgid ""
"This is quite simple: when you run tarantool, it executes this code and "
"creates a data schema. To run this file, use:"
msgstr ""
"Этот подход довольно простой. Когда вы запустите tarantool, этот код "
"исполнится и создаст схему. Чтобы запустить файл, используйте следующую "
"команду:"

msgid "tarantool init.lua"
msgstr "tarantool init.lua"

msgid ""
"However, it may seem complicated if you do not plan to dive deep into the "
"Lua language and its syntax."
msgstr ""
"Но это может показаться слишком сложным, если вы не собираетесь глубоко "
"разбираться с языком Lua и его синтаксисом."

msgid ""
"Possible difficulty: the snippet above has a function call with a colon: "
"``users:format``. It is used to pass the ``users`` variable as the first "
"argument of the ``format`` function. This is similar to ``self`` in object-"
"based languages."
msgstr ""
"Пример возможной сложности: в фрагменте выше есть вызов функций с "
"двоеточием: ``users:format``. Он используется, чтобы передать переменную "
"``users`` в качестве первого аргумента функции ``format``. Это аналог "
"``self`` в объектно-ориентированных языках."

msgid ""
"So it might be more convenient for you to describe the data schema with "
"YAML."
msgstr "Поэтому вам может быть удобно описать схему через YAML."

msgid "Data schema description using the DDL module"
msgstr "Описание через модуль DDL"

msgid ""
"The `DDL module <https://github.com/tarantool/ddl>`_ allows you to describe "
"a data schema in the YAML format in a declarative way."
msgstr ""
"`Модуль DDL <https://github.com/tarantool/ddl>`_ позволяет декларативно "
"описывать схему данных в YAML формате."

msgid "The schema would look something like this:"
msgstr "Схема будет выглядеть примерно вот так:"

msgid ""
"spaces:\n"
"    users:\n"
"      engine: memtx\n"
"      is_local: false\n"
"      temporary: false\n"
"      format:\n"
"      - {name: user_id, type: uuid, is_nullable: false}\n"
"      - {name: fullname, type: string,  is_nullable: false}\n"
"      indexes:\n"
"      - name: user_id\n"
"        unique: true\n"
"        parts: [{path: user_id, type: uuid, is_nullable: false}]\n"
"        type: HASH"
msgstr ""
"spaces:\n"
"    users:\n"
"      engine: memtx\n"
"      is_local: false\n"
"      temporary: false\n"
"      format:\n"
"      - {name: user_id, type: uuid, is_nullable: false}\n"
"      - {name: fullname, type: string,  is_nullable: false}\n"
"      indexes:\n"
"      - name: user_id\n"
"        unique: true\n"
"        parts: [{path: user_id, type: uuid, is_nullable: false}]\n"
"        type: HASH"

msgid ""
"This alternative is simpler to use, and you do not have to dive deep into "
"Lua."
msgstr ""
"Этот вариант проще для старта: его проще использовать и не нужно вникать в "
"язык Lua."

msgid ""
"``DDL`` is a built-in :doc:`Cartridge </book/cartridge/index>` module. "
"Cartridge is a cluster solution for Tarantool. In its WebUI, there is a "
"separate tab called \"Schema\". On this tab, you can define the schema, "
"check its correctness, and apply it to the whole cluster."
msgstr ""
"Модуль ``DDL`` встроен по умолчанию в :doc:`Cartridge </book/cartridge/index>`.\n"
"Cartridge — это кластерное решение для Tarantool. В его веб-интерфейсе есть\n"
"отдельная вкладка \"Schema\". Там можно написать схему, проверить ее корректность и применить на всем кластере."

msgid ""
"If you do not use Cartridge, you can still use the DDL module: put the "
"following Lua code into the file that you use to run Tarantool. This file is"
" usually called ``init.lua``."
msgstr ""
"Если вы не используете Cartridge, то чтобы использовать модуль DDL, нужно "
"вставить нижеприведенный код на Lua в файл, с которым вы запускаете "
"Tarantool. Обычно это ``init.lua``."

msgid ""
"local yaml = require('yaml')\n"
"local ddl = require('ddl')\n"
"\n"
"box.cfg{}\n"
"\n"
"local fh = io.open('ddl.yml', 'r')\n"
"local schema = yaml.decode(fh:read('*all'))\n"
"fh:close()\n"
"local ok, err = ddl.check_schema(schema)\n"
"if not ok then\n"
"    print(err)\n"
"end\n"
"local ok, err = ddl.set_schema(schema)\n"
"if not ok then\n"
"    print(err)\n"
"end"
msgstr ""
"local yaml = require('yaml')\n"
"local ddl = require('ddl')\n"
"\n"
"box.cfg{}\n"
"\n"
"local fh = io.open('ddl.yml', 'r')\n"
"local schema = yaml.decode(fh:read('*all'))\n"
"fh:close()\n"
"local ok, err = ddl.check_schema(schema)\n"
"if not ok then\n"
"    print(err)\n"
"end\n"
"local ok, err = ddl.set_schema(schema)\n"
"if not ok then\n"
"    print(err)\n"
"end"

msgid ""
"It is forbidden to modify the data schema in DDL after it has been applied. "
"For migration, there are different scenarios described below."
msgstr ""
"Менять схему в самом DDL после ее применения нельзя. Для миграций есть "
"несколько подходов — они описаны ниже."

msgid "Migrations"
msgstr "Миграции"

msgid ""
"**Migration** refers to any change in a data schema: adding/removing a "
"field, creating/dropping an index, changing a field format, etc."
msgstr ""
"**Миграцией** называется любое изменение схемы данных: добавление/удаление "
"поля, добавление/удаление индекса, изменение формата поля и т. д."

msgid ""
"In Tarantool, there are two types of schema migration that do not require "
"data migration:"
msgstr ""
"В Tarantool есть только два вида миграции схемы, при которых не нужно "
"мигрировать данные:"

msgid "adding a field to the end of a space"
msgstr "добавление поля в конец спейса"

msgid "creating an index"
msgstr "добавление индекса"

msgid "Adding a field to the end of a space"
msgstr "Добавление поля в конец спейса"

msgid "You can add a field as follows:"
msgstr "Добавление поля происходит следующим образом:"

msgid ""
"local users = box.space.users\n"
"local fmt = users:format()\n"
"\n"
"table.insert(fmt, { name = 'age', type = 'number', is_nullable = true })\n"
"users:format(fmt)"
msgstr ""
"local users = box.space.users\n"
"local fmt = users:format()\n"
"\n"
"table.insert(fmt, { name = 'age', type = 'number', is_nullable = true })\n"
"users:format(fmt)"

msgid ""
"Note that the field must have the ``is_nullable`` parameter. Otherwise, an "
"error will occur."
msgstr ""
"Обратите внимание: поле обязательно должно иметь параметр ``is_nullable``. "
"Иначе произойдет ошибка."

msgid ""
"After creating a new field, you probably want to fill it with data. The "
"`tarantool/moonwalker <https://github.com/tarantool/moonwalker>`_ module is "
"useful for this task. The README file describes how to work with this "
"module."
msgstr ""
"После создания нового поля, вы, вероятно, захотите заполнить его данными.\n"
"Для этой задачи удобно использовать модуль `tarantool/moonwalker <https://github.com/tarantool/moonwalker>`_. В README есть описание того, как начать его использовать."

msgid "Creating an index"
msgstr "Добавление индекса"

msgid ""
"Index creation is described in the "
":doc:`/reference/reference_lua/box_space/create_index` method."
msgstr ""
"Про добавление индекса рассказывается в описании метода "
":doc:`/reference/reference_lua/box_space/create_index`."

msgid "Other types of migrations"
msgstr "Остальные виды миграций"

msgid ""
"Other types of migrations are also allowed, but it would be more difficult "
"to maintain data consistency."
msgstr ""
"Остальные виды миграций также возможны, однако поддерживать консистентность "
"данных при этом сложнее."

msgid "Migrations are possible in two cases:"
msgstr "Миграции можно выполнять в двух случаях:"

msgid "When Tarantool starts, and no client uses the database yet"
msgstr "при старте Tarantool, пока ни один клиент еще не использует БД"

msgid ""
"During request processing, when active clients are already using the "
"database"
msgstr "в процессе обработки запросов, когда у БД уже есть активные клиенты"

msgid ""
"For the first case, it is enough to write and test the migration code. The "
"most difficult task is to migrate data when there are active clients. You "
"should keep it in mind when you initially design the data schema."
msgstr ""
"Для первого случая достаточно кода миграции, который будет написан и "
"оттестирован. Самая сложная задача — это провести миграцию данных при "
"наличии активных клиентов. Это необходимо иметь в виду при начальном "
"проектировании схемы данных."

msgid "We identify the following problems if there are active clients:"
msgstr "Мы выделяем следующие проблемы при наличии активных клиентов:"

msgid "Associated data can change atomically."
msgstr "Связанные данные могут атомарно изменяться."

msgid ""
"The system should be able to transfer data using both the new schema and the"
" old one."
msgstr "Нужно уметь отдавать данные как по новой схеме, так и по старой."

msgid ""
"When data is being transferred to a new space, data access should consider "
"that the data might be in one space or another."
msgstr ""
"Когда данные перемещают в новый спейс, доступ к данным должен учитывать, что"
" данные могут быть как в одном спейсе, так и в другом."

msgid ""
"Write requests must not interfere with the migration. A common approach is "
"to write according to the new data schema."
msgstr ""
"Запросы на запись не должны мешать корректной миграции. Типичный подход: "
"всегда писать по новой схеме."

msgid ""
"These issues may or may not be relevant depending on your application and "
"its availability requirements."
msgstr ""
"Эти проблемы могут быть или не быть релевантными в зависимости от вашего "
"приложения и требований к его доступности."

msgid "What you need to know when writing complex migrations"
msgstr "Что нужно знать при написании сложных миграций"

msgid ""
"Tarantool has a transaction mechanism. It is useful when writing a "
"migration, because it allows you to work with the data atomically. But "
"before using the transaction mechanism, you should explore its limitations."
msgstr ""
"В Tarantool есть механизм транзакций. Он полезен при написании миграции, так"
" как позволяет атомарно работать с данными. Но перед использованием "
"механизма транзакций нужно знать об ограничениях."

msgid ""
"For details, see the section about :doc:`transactions </book/box/atomic>`."
msgstr ""
"Подробнее о них описано в разделе про :doc:`транзакции </book/box/atomic>`."

msgid "How you can apply migration"
msgstr "Как применять миграции"

msgid ""
"The migration code is executed on a running Tarantool instance. Important: "
"no method guarantees you transactional application of migrations on the "
"whole cluster."
msgstr ""
"Код миграций исполняется на запущенном инстансе Tarantool. Важно: ни один "
"способ не гарантирует вам транзакционное применение миграций на всем "
"кластере."

msgid "**Method 1**: include migrations in the application code"
msgstr "**Способ 1**: написать миграции в коде основного приложения"

msgid ""
"This is quite simple: when you reload the code, the data is migrated at the "
"right moment, and the database schema is updated. However, this method may "
"not work for everyone. You may not be able to restart Tarantool or update "
"the code using the hot-reload mechanism."
msgstr ""
"Это довольно просто: когда вы перезагружаете код, в нужный момент происходит"
" миграция данных и схема базы данных обновляется. Однако такой способ может "
"подойти не всем. У вас может не быть возможности перезапустить Tarantool или"
" обновить код через механизм горячей перезагрузки (hot reload)."

msgid ""
"**Method 2**: tarantool/migrations (only for a Tarantool Cartridge cluster)"
msgstr ""
"**Способ 2**: tarantool/migrations (только для кластера на Tarantool "
"Cartridge)"

msgid ""
"This method is described in the README file of the `tarantool/migrations "
"<https://github.com/tarantool/migrations>`_ module."
msgstr ""
"Про этот способ подробнее написано в README самого модуля "
"`tarantool/migrations <https://github.com/tarantool/migrations>`_."

msgid ""
"There are also two other methods that we **do not recommend**, but you may "
"find them useful for one reason or another."
msgstr ""
"Есть также два способа, которые мы **не рекомендуем использовать**, но вы "
"можете найти их полезными по тем или иным причинам."

msgid "**Method 3**: the ``tarantoolctl`` utility"
msgstr "**Cпособ 3**: утилита ``tarantoolctl``"

msgid ""
"The ``tarantoolctl`` utility ships with Tarantool. Connect to the necessary "
"instance using ``tarantoolctl connect``."
msgstr ""
"Утилита ``tarantoolctl`` поставляется вместе с Tarantool. Подключитесь к "
"нужному инстансу через команду ``tarantoolctl connect``."

msgid "$ tarantoolctl connect admin:password@localhost:3301"
msgstr "$ tarantoolctl connect admin:password@localhost:3301"

msgid ""
"If your migration is written in a Lua file, you can execute it using "
"``dofile()``. Call this function and specify the path to the migration file "
"as the first argument. It looks like this:"
msgstr ""
"Если ваша миграция написана в Lua файле, вы можете исполнить его с помощью "
"функции ``dofile()``. Вызовите ее и первым аргументом укажите путь до файла "
"с миграцией. Выглядит это вот так:"

msgid ""
"tarantool> dofile('0001-delete-space.lua')\n"
"---\n"
"..."
msgstr ""
"tarantool> dofile('0001-delete-space.lua')\n"
"---\n"
"..."

msgid ""
"(or) Copy the migration script code, paste it into the console, and run it."
msgstr ""
"(или) можно скопировать код скрипта миграции, вставить его в консоль и "
"применить."

msgid "**Method 4**: applying migration with Ansible"
msgstr "**Способ 4**: применение миграции с помощью Ansible"

msgid ""
"If you use the `Ansible role  <https://github.com/tarantool/ansible-"
"cartridge>`_ to deploy a Tarantool cluster, you can use ``eval``. You can "
"find more information about it `in the Ansible role documentation "
"<https://github.com/tarantool/ansible-cartridge/blob/master/doc/eval.md>`_."
msgstr ""
"Если вы используете `Ansible-роль для развёртывания кластера Tarantool "
"<https://github.com/tarantool/ansible-cartridge>`_, то вы можете применить "
"``eval``. Прочитать подробнее про ``eval`` можно `в документации по Ansible-"
"роли <https://github.com/tarantool/ansible-"
"cartridge/blob/master/doc/eval.md>`_."
