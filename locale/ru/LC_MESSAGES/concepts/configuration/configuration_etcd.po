
msgid "Storing configuration in etcd"
msgstr ""

msgid "Enterprise Edition"
msgstr ""

msgid ""
"Storing configuration in etcd is supported by the `Enterprise Edition "
"<https://www.tarantool.io/compare/>`_ only."
msgstr ""

msgid ""
"Tarantool enables you to store configuration data in one place using `etcd "
"<https://etcd.io/>`_. To achieve this, you need to define how to access etcd"
" and publish a cluster's :ref:`YAML configuration <configuration_file>` to "
"an etcd server."
msgstr ""

msgid "Local etcd configuration"
msgstr ""

msgid ""
"To store a cluster's configuration in etcd, you need to provide etcd "
"connection settings in a local configuration file. These settings are used "
"to :ref:`publish <etcd_publishing_configuration>` a cluster's configuration "
"and :ref:`show <etcd_showing_configuration>` it."
msgstr ""

msgid ""
"Connection options for etcd should be specified in the ``config.etcd`` "
"section of the configuration file. At least, the following options should be"
" specified:"
msgstr ""

msgid ""
"config:\n"
"  etcd:\n"
"    endpoints:\n"
"      - http://localhost:2379\n"
"    prefix: /example"
msgstr ""

msgid ""
":ref:`config.etcd.endpoints <config_etcd_endpoints>` specifies the list of "
"etcd endpoints."
msgstr ""

msgid ""
":ref:`config.etcd.prefix <config_etcd_prefix>` sets a key prefix used to "
"search a configuration. Tarantool searches keys by the following path: "
"``<prefix>/config/*``. Note that ``<prefix>`` should start with a slash "
"(``/``)."
msgstr ""

msgid ""
"You can also provide additional etcd connection options. In the example "
"below, the following options are configured in addition to an endpoint and "
"key prefix:"
msgstr ""

msgid ""
"config:\n"
"  etcd:\n"
"    endpoints:\n"
"      - http://localhost:2379\n"
"    prefix: /example\n"
"    username: testuser\n"
"    password: foobar\n"
"    ssl:\n"
"      ca_file: ca.crt\n"
"    http:\n"
"      request:\n"
"        timeout: 3"
msgstr ""

msgid ""
":ref:`config.etcd.username <config_etcd_username>` and "
":ref:`config.etcd.password <config_etcd_password>` specify credentials used "
"for authentication."
msgstr ""

msgid ""
":ref:`config.etcd.ssl.ca_file <config_etcd_ssl_ca_file>` specifies a path to"
" a trusted certificate authorities (CA) file."
msgstr ""

msgid ""
":ref:`config.etcd.http.request.timeout <config_etcd_http_request_timeout>` "
"configures a request timeout for an etcd server."
msgstr ""

msgid ""
"You can find all the available configuration options in the :ref:`etcd "
"<configuration_reference_config_etcd>` section."
msgstr ""

msgid "Publishing a cluster's configuration to etcd"
msgstr ""

msgid "Publishing configuration using the tt utility"
msgstr ""

msgid ""
"The tt utility provides the :ref:`tt cluster <tt-cluster>` command for "
"managing a cluster's configuration. The ``tt cluster publish`` command can "
"be used to publish a cluster's configuration to etcd."
msgstr ""

msgid ""
"The example below shows how a :ref:`layout <admin-start_stop_instance-multi-"
"instance-layout>` of the application called ``app`` might look:"
msgstr ""

msgid ""
"├── tt.yaml\n"
"└── instances.enabled\n"
"    └── app\n"
"        ├── config.yaml\n"
"        ├── cluster.yaml\n"
"        └── instances.yml"
msgstr ""

msgid ""
"``config.yaml`` contains a :ref:`local configuration "
"<etcd_local_configuration>` used to connect to etcd."
msgstr ""

msgid "``cluster.yaml`` contains a cluster's configuration to be published."
msgstr ""

msgid ""
"``instances.yml`` specifies :ref:`instances <admin-start_stop_instance-"
"multi-instance>` to run in the current environment. ``tt cluster publish`` "
"ignores the configured instances."
msgstr ""

msgid ""
"To publish a cluster's configuration (``cluster.yaml``) to an etcd server, "
"execute ``tt cluster publish`` as follows:"
msgstr ""

msgid ""
"$ tt cluster publish \"http://localhost:2379/example\" "
"instances.enabled/app/cluster.yaml"
msgstr ""

msgid ""
"You can see a cluster's configuration using the :ref:`tt cluster show <tt-"
"cluster>` command."
msgstr ""

msgid "Publishing configuration using etcdctl"
msgstr ""

msgid ""
"To publish a cluster's configuration using the ``etcdctl`` utility, use the "
"``put`` command:"
msgstr ""

msgid "$ etcdctl put /example/config/all < cluster.yaml"
msgstr ""

msgid ""
"For etcd versions earlier than 3.4, you need to set the ``ETCDCTL_API`` "
"environment variable to ``3``."
msgstr ""

msgid "Starting Tarantool instances"
msgstr ""

msgid ""
"The :ref:`tt <tt-cli>` utility is the recommended way to start Tarantool "
"instances. You can learn how to do this from the :ref:`Starting and stopping"
" instances <admin-start_stop_instance>` section."
msgstr ""

msgid ""
"You can also use the ``tarantool`` command to :ref:`start a Tarantool "
"instance <configuration_run_instance_tarantool>`. In this case, you can "
"eliminate creating a :ref:`local etcd configuration  "
"<etcd_local_configuration>` and provide etcd connection settings using the "
"``TT_CONFIG_ETCD_ENDPOINTS`` and ``TT_CONFIG_ETCD_PREFIX`` :ref:`environment"
" variables <configuration_environment_variable>`."
msgstr ""

msgid ""
"$ export TT_CONFIG_ETCD_ENDPOINTS=http://localhost:2379\n"
"$ export TT_CONFIG_ETCD_PREFIX=/example\n"
"\n"
"$ tarantool --name instance001\n"
"$ tarantool --name instance002\n"
"$ tarantool --name instance003"
msgstr ""

msgid "Reloading configuration"
msgstr ""

msgid ""
"By default, Tarantool watches etcd keys with the :ref:`specified prefix "
"<etcd_local_configuration>` for changes in a cluster's configuration and "
"reloads a changed configuration automatically. If necessary, you can set the"
" :ref:`config.reload <configuration_reference_config_reload>` option to "
"``manual`` to turn off configuration reloading:"
msgstr ""

msgid ""
"config:\n"
"  reload: 'manual'\n"
"  etcd:\n"
"    # ..."
msgstr ""

msgid ""
"In this case, you can reload a configuration in an :ref:`admin console "
"<admin-security>` or :ref:`application code <configuration_application>` "
"using the ``reload()`` function provided by the :ref:`config <config-"
"module>` module:"
msgstr ""

msgid "require('config'):reload()"
msgstr ""
