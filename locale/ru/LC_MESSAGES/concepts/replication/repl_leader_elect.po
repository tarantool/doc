
msgid "Automated leader election"
msgstr "Автоматические выборы лидера"

msgid ""
"Starting from version :doc:`2.6.1 </release/2.6.1>`, Tarantool has the "
"built-in functionality managing automated *leader election* in a replica "
"set. This functionality increases the fault tolerance of the systems built "
"on the base of Tarantool and decreases dependency on the external tools for "
"replica set management."
msgstr ""
"В Tarantool, начиная с версии :doc:`2.6.1 </release/2.6.1>`, есть встроенная"
" функциональность для управления автоматическими *выборами лидера* "
"(automated leader election) в наборе реплик (replica set). Эта "
"функциональность повышает отказоустойчивость систем на базе Tarantool и "
"снижает зависимость от внешних инструментов для управления набором реплик."

msgid ""
"To learn how to configure and monitor automated leader elections,
check the :ref:`how-to guide <how-to-repl_leader_elect>`."
msgstr ""
"Чтобы узнать, как настраивать и отслеживать автоматические выборы лидера, "
"прочитайте :ref:`практическое руководство <how-to-repl_leader_elect>`."

msgid "The following topics are described below:"
msgstr "Ниже описаны следующие темы:"

msgid "Leader election and synchronous replication"
msgstr "Выборы лидера и синхронная репликация"

msgid ""
"Leader election and synchronous replication are implemented in Tarantool as "
"a modification of the `Raft "
"<https://en.wikipedia.org/wiki/Raft_(computer_science)>`__ algorithm. Raft "
"is an algorithm of synchronous replication and automatic leader election. "
"Its complete description can be found in the `corresponding document "
"<https://raft.github.io/raft.pdf>`_."
msgstr ""
"В Tarantool используется модификация `Raft "
"<https://en.wikipedia.org/wiki/Raft_(computer_science)>`__ — алгоритма "
"синхронной репликации и автоматических выборов лидера. Полное описание "
"алгоритма Raft можно прочитать `в соответствующем документе "
"<https://raft.github.io/raft.pdf>`_."

msgid ""
"In Tarantool, :ref:`synchronous replication <repl_sync>` and leader election"
" are supported as two separate subsystems. So it is possible to get "
"synchronous replication but use an alternative algorithm for leader "
"election. And vice versa -- elect a leader in the cluster but don't use "
"synchronous spaces at all. Synchronous replication has a separate "
":ref:`documentation section <repl_sync>`. Leader election is described "
"below."
msgstr ""
":ref:`Синхронная репликация <repl_sync>` и выборы лидера в Tarantool "
"реализованы как две независимые подсистемы. Это означает, что можно "
"настроить синхронную репликацию, а для выборов лидера использовать "
"альтернативный алгоритм. Встроенный механизм выборов лидера, в свою очередь,"
" не требует использования синхронных спейсов. Синхронной репликации посвящен"
" :ref:`этот раздел документации <repl_sync>`. Процесс выборов лидера описан "
"ниже."

msgid "Leader election process"
msgstr "Процесс выборов лидера"

msgid ""
"Automated leader election in Tarantool helps guarantee that there is at most"
" one leader at any given moment of time in a replica set. A *leader* is a "
"writable node, and all other nodes are non-writable -- they accept read-only"
" requests exclusively."
msgstr ""
"Автоматические выборы лидера в Tarantool гарантируют, что в каждый момент "
"времени в наборе реплик будет максимум один *лидер* — узел, доступный для "
"записи. Все остальные узлы будут принимать исключительно запросы на чтение."

msgid ""
"When :ref:`the election is enabled <repl_leader_elect_config>`, the life "
"cycle of a replica set is divided into so-called *terms*. Each term is "
"described by a monotonically growing number. After the first boot, each node"
" has its term equal to 1. When a node sees that it is not a leader and there"
" is no leader available for some time in the replica set, it increases the "
"term and starts a new leader election round."
msgstr ""
"Когда :ref:`функция выборов включена <repl_leader_elect_config>`, жизненный "
"цикл набора реплик разделен на так называемые *термы* (term). Каждый терм "
"описывается монотонно растущим числом. После первой загрузки узла значение "
"его терма равно 1. Когда узел обнаруживает, что не является лидером и при "
"этом лидера в наборе реплик уже какое-то время нет, он увеличивает значение "
"своего терма и начинает новый тур выборов."

msgid ""
"Leader election happens via votes. The node which started the election votes"
" for itself and sends vote requests to other nodes. Upon receiving vote "
"requests, a node votes for the first of them, and then cannot do anything in"
" the same term but wait for a leader being elected."
msgstr ""
"Выборы лидера происходят посредством голосования. Узел, начинающий выборы, "
"голосует сам за себя и отправляет другим запросы на голос. Каждый экземпляр "
"голосует за первый узел, от которого пришел такой запрос, и далее в течение "
"всего терма ожидает избрания лидера, не выполняя никаких действий."

msgid ""
"The node that collected a :ref:`quorum of votes <repl_leader_elect_config>` "
"becomes the leader and notifies other nodes about that. Also, a split vote "
"can happen when no nodes received a quorum of votes. In this case, after a "
":ref:`random timeout <repl_leader_elect_config>`, each node increases its "
"term and starts a new election round if no new vote request with a greater "
"term arrives during this time period. Eventually, a leader is elected."
msgstr ""
"Узел, собравший :ref:`кворум голосов <repl_leader_elect_config>`, становится"
" лидером и оповещает об этом другие узлы. Голоса могут разделиться, если ни "
"один узел не получит кворума. В этом случае спустя :ref:`случайное время "
"<repl_leader_elect_config>` происходят перевыборы: каждый узел увеличивает "
"значение терма и начинает новый тур, если за период ожидания не получил "
"запроса на голос от узла, чей терм больше. В итоге определяется лидер "
"кластера."

msgid ""
"All the non-leader nodes are called *followers*. The nodes that start a new "
"election round are called *candidates*. The elected leader sends heartbeats "
"to the non-leader nodes to let them know it is alive. So if there are no "
"heartbeats for a period set by the :ref:`replication_timeout "
"<cfg_replication-replication_timeout>` option, a new election starts. Terms "
"and votes are persisted by each instance in order to preserve certain Raft "
"guarantees."
msgstr ""
"Узлы, не являющиеся лидерами, называются *последователями* (followers). "
"Узлы, которые начинают новый тур выборов, называются *кандидатами* "
"(candidates). Избранный лидер отправляет остальным узлам контрольные сигналы"
" (heartbeats), оповещая о том, что он работает (alive). Если контрольные "
"сигналы не приходят в течение времени, заданного параметром "
":ref:`replication_timeout <cfg_replication-replication_timeout>`, начинаются"
" новые выборы. Чтобы алгоритм Raft гарантированно выполнялся, термы и голоса"
" сохраняются на каждом экземпляре."

msgid ""
"During the election, the nodes prefer to vote for those ones that have the "
"newest data. So as if an old leader managed to send something before its "
"death to a quorum of replicas, that data wouldn't be lost."
msgstr ""
"При голосовании узлы отдают предпочтение экземплярам, где сохранены самые "
"новые данные. Поэтому, если прежний лидер перед тем, как стать недоступным, "
"отправит кворуму реплик какую-либо информацию, она не будет потеряна."

msgid ""
"When :ref:`election is enabled <repl_leader_elect_config>`, there must be "
"connections between each node pair so as it would be the full mesh topology."
" This is needed because election messages for voting and other internal "
"things need direct connection between the nodes."
msgstr ""
"Необходимо, чтобы все узлы, :ref:`включенные в процесс выборов "
"<repl_leader_elect_config>`, были соединены попарно и образовывали полную "
"ячеистую топологию (full mesh). Для передачи запросов, связанных с "
"голосованием, и других внутренних сообщений требуется прямая связь между "
"узлами."

msgid ""
"Also, if election is enabled on the node, it won't replicate from any nodes "
"except the newest leader. This is done to avoid the issue when a new leader "
"is elected, but the old leader has somehow survived and tries to send more "
"changes to the other nodes."
msgstr ""
"Любой узел, участвующий в процессе выборов, реплицирует данные только с "
"последнего избранного лидера. Это позволяет избежать ситуации, в которой "
"прежний лидер после выборов нового все еще пытается отправлять изменения на "
"реплики."

msgid ""
"Term numbers also work as a kind of a filter. For example, you can be sure "
"that if election is enabled on two nodes and ``node1`` has the term number "
"less than ``node2``, then ``node2`` won't accept any transactions from "
"``node1``."
msgstr ""
"Числовые значения термов также выполняют функцию своеобразного фильтра. "
"Например, если на двух узлах включена функция выборов и значение терма "
"``node1`` меньше значения терма ``node2``, то узел ``node2`` не будет "
"принимать транзакций от узла ``node1``."
