
msgid "Orphan status"
msgstr "Статус orphan (одиночный)"

msgid ""
"Starting with Tarantool version 1.9, there is a change to the procedure when"
" an instance joins a replica set. During ``box.cfg()`` the instance will try"
" to join all masters listed in :ref:`box.cfg.replication <cfg_replication-"
"replication>`. If the instance does not succeed with at least the number of "
"masters specified in :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`, then it will switch to **orphan status**. "
"While an instance is in orphan status, it is read-only."
msgstr ""
"Начиная с версии Tarantool 1.9, процедура подключения реплики к набору "
"реплик изменяется. Во время ``box.cfg()`` экземпляр попытается подключиться "
"ко всем мастерам, указанным в :ref:`box.cfg.replication <cfg_replication-"
"replication>`. Если не было успешно выполнено подключение к количеству "
"мастеров, указанному в :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`, экземпляр переходит в **статус orphan** "
"(одиночный). Когда экземпляр находится в статусе orphan, он доступен только "
"для чтения."

msgid ""
"To \"join\" a master, a replica instance must \"connect\" to the master node"
" and then \"sync\"."
msgstr ""
"Чтобы \"подключиться\" к мастеру, реплика должна \"установить соединение\" с"
" узлом мастера, а затем \"выполнить синхронизацию\"."

msgid ""
"\"Connect\" means contact the master over the physical network and receive "
"acknowledgment. If there is no acknowledgment after "
":ref:`box.replication_connect_timeout <cfg_replication-"
"replication_connect_timeout>` seconds (usually 4 seconds), and retries fail,"
" then the connect step fails."
msgstr ""
"\"Установка соединения\" означает контакт с мастером по физической сети и "
"получение подтверждения. Если нет подтверждения соединения через "
":ref:`box.replication_connect_timeout <cfg_replication-"
"replication_connect_timeout>` секунд (обычно 4 секунды), и повторные попытки"
" подключения не сработали, то соединение не установлено."

msgid ""
"\"Sync\" means receive updates from the master in order to make a local "
"database copy. Syncing is complete when the replica has received all the "
"updates, or at least has received enough updates that the replica's lag (see"
" :ref:`replication.upstream.lag <box_info_replication_upstream_lag>` in "
"``box.info()``) is less than or equal to the number of seconds specified in "
":ref:`box.cfg.replication_sync_lag <cfg_replication-replication_sync_lag>`. "
"If ``replication_sync_lag`` is unset (nil) or set to TIMEOUT_INFINITY, then "
"the replica skips the \"sync\" state and switches to \"follow\" immediately."
msgstr ""
"\"Синхронизация\" означает получение обновлений от мастера для создания "
"локальной копии базы данных. Синхронизация завершена, когда реплика получила"
" все обновления или хотя бы получила достаточное количество обновлений, "
"чтобы отставание реплики (см. :ref:`replication.upstream.lag "
"<box_info_replication_upstream_lag>` в ``box.info()``) было меньше или равно"
" количеству секунд, указанному в :ref:`box.cfg.replication_sync_lag "
"<cfg_replication-replication_sync_lag>`. Если значение "
"``replication_sync_lag`` не задано (nil) или указано как "
"\"TIMEOUT_INFINITY\", то реплика пропускает шаг \"синхронизация\" и сразу же"
" переходит на \"отслеживание\"."

msgid ""
"In order to leave orphan mode you need to sync with a sufficient number "
"(:ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`) of instances. To do so, you may either:"
msgstr ""
"Чтобы вывести узел из одиночного статуса, нужно синхронизировать его с "
"достаточным (т.е. равным :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`) количеством других узлов. Этого можно "
"добиться, выполнив любое из следующих действий:"

msgid ""
"Set :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>` to a lower value."
msgstr ""
"Уменьшить значение :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`."

msgid ""
"Reset ``box.cfg.replication`` to exclude instances that cannot be reached or"
" synced with."
msgstr ""
"Убрать из списка ``box.cfg.replication`` недоступные и прочие узлы, с "
"которыми нельзя синхронизироваться."

msgid "Set ``box.cfg.replication`` to ``\"\"`` (empty string)."
msgstr ""
"Вообще задать ``\"\"`` (пустую строку) в качестве значения "
"``box.cfg.replication``."

msgid "The following situations are possible."
msgstr "Возможны следующие ситуации."

msgid "**Situation 1: bootstrap**"
msgstr "**Ситуация 1: настройка**"

msgid ""
"Here ``box.cfg{}`` is being called for the first time. A replica is joining "
"but no replica set exists yet."
msgstr ""
"Здесь впервые происходит вызов ``box.cfg{}``. Реплика подключается, но "
"набора реплик пока нет."

msgid "Set status to 'orphan'."
msgstr "Установка статуса 'orphan' (одиночный)."

msgid ""
"Try to connect to all nodes from ``box.cfg.replication``, or to the number "
"of nodes required by :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`. Retrying up to 3 times in 30 seconds is "
"possible because this is bootstrap, :ref:`replication_connect_timeout "
"<cfg_replication-replication_connect_timeout>` is overridden."
msgstr ""
"Попытка установить соединение со всеми узлами из ``box.cfg.replication`` или"
" с количеством узлов, указанным в параметре :ref:`replication_connect_quorum"
" <cfg_replication-replication_connect_quorum>`. Допускаются три повторные "
"попытки за 30 секунд, поскольку идет стадия настройки, параметр "
":ref:`replication_connect_timeout <cfg_replication-"
"replication_connect_timeout>` не учитывается."

msgid ""
"Abort and throw an error if not connected to all nodes in "
"``box.cfg.replication`` or :ref:`replication_connect_quorum "
"<cfg_replication-replication_connect_quorum>`."
msgstr ""
"Прекращение работы и выдача ошибки в случае отсутствия соединения со всеми "
"узлами в ``box.cfg.replication`` или :ref:`replication_connect_quorum "
"<cfg_replication-replication_connect_quorum>`."

msgid ""
"This instance might be elected as the replica set 'leader'. Criteria for "
"electing a leader include vclock value (largest is best), and whether it is "
"read-only or read-write (read-write is best unless there is no other "
"choice). The leader is the master that other instances must join. The leader"
" is the master that executes :doc:`box.once() "
"</reference/reference_lua/box_once>` functions."
msgstr ""
"Экземпляр может быть выбран в качестве лидера 'leader' в наборе реплик. "
"Критерии выбора лидера включают в себя значение vclock (чем больше, тем "
"лучше), а также доступность только для чтения или для чтения и записи (лучше"
" всего для чтения и записи, кроме случаев, когда других вариантов нет). "
"Лидер является мастером, к которому должны подключиться другие экземпляры. "
"Лидер является мастером, который выполняет функции :doc:`box.once() "
"</reference/reference_lua/box_once>`."

msgid ""
"If this instance is elected as the replica set leader, then perform an "
"\"automatic bootstrap\":"
msgstr ""
"Если данный экземпляр выбран лидером набора реплик, выполняется "
"\"самонастройка\":"

msgid "Set status to 'running'."
msgstr "Установка статуса 'running' (запущен)."

msgid "Return from ``box.cfg{}``."
msgstr "Возврат из ``box.cfg{}``."

msgid ""
"Otherwise this instance will be a replica joining an existing replica set, "
"so:"
msgstr ""
"В противном случае, данный экземпляр будет репликой, которая подключается к "
"существующему набору реплик, поэтому:"

msgid ""
"Bootstrap from the leader. See examples in section :ref:`Bootstrapping a "
"replica set <replication-bootstrap>`."
msgstr ""
"Настройка от лидера. См. примеры в разделе :ref:`Настройка набора реплик "
"<replication-bootstrap>`."

msgid "In background, sync with all the other nodes in the replication set."
msgstr ""
"Синхронизация со всеми остальными узлами в наборе реплик в фоновом режиме."

msgid "**Situation 2: recovery**"
msgstr "**Ситуация 2: восстановление**"

msgid ""
"Here ``box.cfg{}`` is not being called for the first time. It is being "
"called again in order to perform recovery."
msgstr ""
"Здесь вызов ``box.cfg{}`` происходит не впервые, а повторно для "
"осуществления восстановления."

msgid ""
"Perform :ref:`recovery <internals-recovery_process>` from the last local "
"snapshot and the WAL files."
msgstr ""
"Проведение :ref:`восстановления <internals-recovery_process>` из последнего "
"локального снимка и WAL-файлов."

msgid ""
"Connect to at least :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>` nodes. If failed -- set status to 'orphan'. "
"(Attempts to sync will continue in the background and when/if they succeed "
"then 'orphan' will be changed to 'connected'.)"
msgstr ""
"Установить соединение с количеством узлов не меньшим, чем "
":ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`. Если не получается -- установить статус "
"'orphan'. (Попытки синхронизации будут повторяться в фоновом режиме, и "
"когда/если они окажутся успешными, статус 'orphan' сменится на 'connected'.)"

msgid ""
"If connected - sync with all connected nodes, until the difference is not "
"more than :ref:`replication_sync_lag <cfg_replication-replication_sync_lag>`"
" seconds."
msgstr ""
"Если соединение установлено - осуществлять синхронизацию со всеми "
"подключенными узлами до тех пор, пока отличия не будут более "
":ref:`replication_sync_lag <cfg_replication-replication_sync_lag>` секунд."

msgid "**Situation 3: configuration update**"
msgstr "**Ситуация 3: обновление конфигурации**"

msgid ""
"Here ``box.cfg{}`` is not being called for the first time. It is being "
"called again because some replication parameter or something in the replica "
"set has changed."
msgstr ""
"Здесь вызов ``box.cfg{}`` происходит не впервые, а повторно, поскольку "
"изменились некоторые параметры репликации или что-то в наборе реплик."

msgid ""
"Try to connect to all nodes from ``box.cfg.replication``, or to the number "
"of nodes required by :ref:`replication_connect_quorum <cfg_replication-"
"replication_connect_quorum>`, within the time period specified in "
":ref:`replication_connect_timeout <cfg_replication-"
"replication_connect_timeout>`."
msgstr ""
"Попытка установить соединение со всеми узлами из ``box.cfg.replication`` или"
" с количеством узлов, указанным в параметре :ref:`replication_connect_quorum"
" <cfg_replication-replication_connect_quorum>` в течение периода времени, "
"указанного в :ref:`replication_connect_timeout <cfg_replication-"
"replication_connect_timeout>`."

msgid ""
"Try to sync with the connected nodes, within the time period specified in "
":ref:`replication_sync_timeout <cfg_replication-replication_sync_timeout>`."
msgstr ""
"Попытка синхронизации со всеми подключенными узлами в течение периода "
"времени, указанного в :ref:`replication_sync_timeout <cfg_replication-"
"replication_sync_timeout>`."

msgid ""
"If earlier steps fail, change status to 'orphan'. (Attempts to sync will "
"continue in the background and when/if they succeed then 'orphan' status "
"will end.)"
msgstr ""
"Если предыдущие шаги не выполнены, статус изменяется на 'orphan' "
"(одиночный). (Попытки синхронизации будут продолжаться в фоновом режиме, и "
"когда/если они будут успешны, статус 'orphan' отключится.)"

msgid ""
"If earlier steps succeed, set status to 'running' (master) or 'follow' "
"(replica)."
msgstr ""
"Если предыдущие шаги выполнены, статус изменяется на 'running' (мастер) или "
"'follow' (реплика)."

msgid "**Situation 4: rebootstrap**"
msgstr "**Ситуация 4: повторная настройка**"

msgid ""
"Here ``box.cfg{}`` is not being called. The replica connected successfully "
"at some point in the past, and is now ready for an update from the master. "
"But the master cannot provide an update. This can happen by accident, or "
"more likely can happen because the replica is slow (its :ref:`lag "
"<cfg_replication-replication_sync_lag>` is large), and the WAL (.xlog) files"
" containing the updates have been deleted. This is not crippling. The "
"replica can discard what it received earlier, and then ask for the master's "
"latest snapshot (.snap) file contents. Since it is effectively going through"
" the bootstrap process a second time, this is called \"rebootstrapping\". "
"However, there has to be one difference from an ordinary bootstrap -- the "
"replica's :ref:`replica id <replication-replica-id>` will remain the same. "
"If it changed, then the master would think that the replica is a new "
"addition to the cluster, and would maintain a record of an instance ID of a "
"replica that has ceased to exist. Rebootstrapping was introduced in "
"Tarantool version 1.10.2 and is completely automatic."
msgstr ""
"Здесь не происходит вызов ``box.cfg{}``. В определенный момент в прошлом "
"реплика успешно установила соединение и в настоящий момент ожидает "
"обновления от мастера. Однако мастер не может передать обновления, что может"
" произойти случайно, или же если реплика работает слишком медленно (большое "
"значение :ref:`lag <cfg_replication-replication_sync_lag>`), а WAL-файлы "
"(.xlog) с обновлениями были удалены. Такая ситуация не является критической "
"-- реплика может сбросить ранее полученные данные, а затем запросить "
"содержание последнего файла снимка (.snap) мастера. Поскольку фактически в "
"таком случае повторно проводится процесс настройки, это называется "
"\"повторная настройка\". Тем не менее, есть отличие от обычной настройки -- "
":ref:`идентификатор реплики <replication-replica-id>` останется прежним. "
"Если он изменится, то мастер посчитает, что в кластер добавляется новая "
"реплика, и сохранит идентификатор экземпляра реплики, которой уже не "
"существует. Полностью автоматизированный процесс повторной настройки "
"появился в версии Tarantool 1.10.2."
