
msgid "box.rollback_to_savepoint()"
msgstr ""

msgid ""
"Do not end the transaction, but cancel all its data-change and "
":ref:`box.savepoint() <box-savepoint>` operations that were done after the "
"specified savepoint."
msgstr ""
"Запрещение окончания транзакции, но отмена всех изменений и операций "
":ref:`box.savepoint() <box-savepoint>`, сделанных после точки сохранения."

msgid "return"
msgstr "возвращает"

msgid "error if the savepoint cannot be set in absence of active transaction."
msgstr ""
"ошибка, если точка сохранения не может быть установлена при отсутствии "
"активной транзакции."

msgid "**Possible errors:** error if the savepoint does not exist."
msgstr "**Возможные ошибки:** ошибка, если отсутствует точка сохранения."

#, fuzzy
msgid "**Example**"
msgstr "**Пример:**"

msgid ""
"-- Insert test data --\n"
"box.space.bands:insert { 1, 'Roxette', 1986 }\n"
"box.space.bands:insert { 2, 'Scorpions', 1965 }\n"
"box.space.bands:insert { 3, 'Ace of Base', 1987 }\n"
"\n"
"-- Rollback the transaction to a savepoint --\n"
"box.begin()\n"
"box.space.bands:insert { 4, 'The Beatles', 1960 }\n"
"save1 = box.savepoint()\n"
"box.space.bands:replace { 1, 'Pink Floyd', 1965 }\n"
"box.rollback_to_savepoint(save1)\n"
"box.commit()\n"
msgstr ""

#~ msgid ""
#~ "function f()\n"
#~ "  box.begin()           -- start transaction\n"
#~ "  box.space.t:insert{1} -- this will not be rolled back\n"
#~ "  local s = box.savepoint()\n"
#~ "  box.space.t:insert{2} -- this will be rolled back\n"
#~ "  box.rollback_to_savepoint(s)\n"
#~ "  box.commit()          -- end transaction\n"
#~ "end"
#~ msgstr ""
#~ "function f()\n"
#~ "  box.begin()           -- начало транзакции\n"
#~ "  box.space.t:insert{1} -- это не отменится\n"
#~ "  local s = box.savepoint()\n"
#~ "  box.space.t:insert{2} -- это отменится\n"
#~ "  box.rollback_to_savepoint(s)\n"
#~ "  box.commit()          -- конец транзакции\n"
#~ "end"
